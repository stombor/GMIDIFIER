!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Midi=e():t.Midi=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){e.parseMidi=r(5),e.writeMidi=r(6)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=new WeakMap;e.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var a=function(){function t(t){var r=this;this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",i.set(this,480),t&&(i.set(this,t.header.ticksPerBeat),t.tracks[0].forEach(function(t){t.meta&&("timeSignature"===t.type?r.timeSignatures.push({ticks:t.absoluteTime,timeSignature:[t.numerator,t.denominator]}):"setTempo"===t.type?r.tempos.push({bpm:6e7/t.microsecondsPerBeat,ticks:t.absoluteTime}):"keySignature"===t.type?r.keySignatures.push({key:e.keySignatureKeys[t.key+7],scale:0===t.scale?"major":"minor",ticks:t.absoluteTime}):"trackName"===t.type?r.name=t.text:"endOfTrack"!==t.type&&r.meta.push({text:t.text,ticks:t.absoluteTime,type:t.type}))}),this.update())}return t.prototype.update=function(){var t=this,e=0,r=0;this.tempos.sort(function(t,e){return t.ticks-e.ticks}),this.tempos.forEach(function(n,i){var a=i>0?t.tempos[i-1].bpm:t.tempos[0].bpm,o=n.ticks/t.ppq-r,s=60/a*o;n.time=s+e,e=n.time,r+=o}),this.timeSignatures.sort(function(t,e){return t.ticks-e.ticks}),this.timeSignatures.forEach(function(e,r){var n=r>0?t.timeSignatures[r-1]:t.timeSignatures[0],i=(e.ticks-n.ticks)/t.ppq/n.timeSignature[0]/(n.timeSignature[1]/4);n.measures=n.measures||0,e.measures=i+n.measures})},t.prototype.ticksToSeconds=function(t){var e=n.search(this.tempos,t);if(-1!==e){var r=this.tempos[e],i=r.time,a=(t-r.ticks)/this.ppq;return i+60/r.bpm*a}return.5*(t/this.ppq)},t.prototype.ticksToMeasures=function(t){var e=n.search(this.timeSignatures,t);if(-1!==e){var r=this.timeSignatures[e],i=(t-r.ticks)/this.ppq;return r.measures+i/(r.timeSignature[0]/r.timeSignature[1])/4}return t/this.ppq/4},Object.defineProperty(t.prototype,"ppq",{get:function(){return i.get(this)},enumerable:!0,configurable:!0}),t.prototype.secondsToTicks=function(t){var e=n.search(this.tempos,t,"time");if(-1!==e){var r=this.tempos[e],i=(t-r.time)/(60/r.bpm);return Math.round(r.ticks+i*this.ppq)}var a=t/.5;return Math.round(a*this.ppq)},t.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(t){return{bpm:t.bpm,ticks:t.ticks}}),timeSignatures:this.timeSignatures}},t.prototype.fromJSON=function(t){this.name=t.name,this.tempos=t.tempos.map(function(t){return Object.assign({},t)}),this.timeSignatures=t.timeSignatures.map(function(t){return Object.assign({},t)}),this.keySignatures=t.keySignatures.map(function(t){return Object.assign({},t)}),this.meta=t.meta.map(function(t){return Object.assign({},t)}),i.set(this,t.ppq),this.update()},t}();e.Header=a},function(t,e,r){"use strict";function n(t,e,r){void 0===r&&(r="ticks");var n=0,i=t.length,a=i;if(i>0&&t[i-1][r]<=e)return i-1;for(;n<a;){var o=Math.floor(n+(a-n)/2),s=t[o],u=t[o+1];if(s[r]===e){for(var c=o;c<t.length;c++){t[c][r]===e&&(o=c)}return o}if(s[r]<e&&u[r]>e)return o;s[r]>e?a=o:s[r]<e&&(n=o+1)}return-1}Object.defineProperty(e,"__esModule",{value:!0}),e.search=n,e.insert=function(t,e,r){if(void 0===r&&(r="ticks"),t.length){var i=n(t,e[r],r);t.splice(i+1,0,e)}else t.push(e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},e.controlChangeIds=Object.keys(e.controlChangeNames).reduce(function(t,r){return t[e.controlChangeNames[r]]=r,t},{});var n=new WeakMap,i=new WeakMap,a=function(){function t(t,e){n.set(this,e),i.set(this,t.controllerType),this.ticks=t.absoluteTime,this.value=t.value}return Object.defineProperty(t.prototype,"number",{get:function(){return i.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return e.controlChangeNames[this.number]?e.controlChangeNames[this.number]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return n.get(this).ticksToSeconds(this.ticks)},set:function(t){var e=n.get(this);this.ticks=e.secondsToTicks(t)},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},t}();e.ControlChange=a},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}u((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(0),o=r(7),s=r(1),u=r(9),c=function(){function t(t){var e=this,r=null;t&&(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(r=a.parseMidi(t)).tracks.forEach(function(t){var e=0;t.forEach(function(t){e+=t.deltaTime,t.absoluteTime=e})})),this.header=new s.Header(r),this.tracks=[],t&&(this.tracks=r.tracks.map(function(t){return new u.Track(t,e.header)}),1===r.header.format&&0===this.tracks[0].duration&&this.tracks.shift())}return t.fromUrl=function(e){return n(this,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:return(r=n.sent()).ok?[4,r.arrayBuffer()]:[3,3];case 2:return[2,new t(n.sent())];case 3:throw new Error("could not load "+e)}})})},Object.defineProperty(t.prototype,"name",{get:function(){return this.header.name},set:function(t){this.header.name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var t=this.tracks.map(function(t){return t.duration});return Math.max.apply(Math,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationTicks",{get:function(){var t=this.tracks.map(function(t){return t.durationTicks});return Math.max.apply(Math,t)},enumerable:!0,configurable:!0}),t.prototype.addTrack=function(){var t=new u.Track(void 0,this.header);return this.tracks.push(t),t},t.prototype.toArray=function(){return o.encode(this)},t.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(t){return t.toJSON()})}},t.prototype.fromJSON=function(t){var e=this;this.header=new s.Header,this.header.fromJSON(t.header),this.tracks=t.tracks.map(function(t){var r=new u.Track(void 0,e.header);return r.fromJSON(t),r})},t.prototype.clone=function(){var e=new t;return e.fromJSON(this.toJSON()),e},t}();e.Midi=c},function(t,e){function r(t){for(var e,r=new n(t),i=[];!r.eof();){var a=o();i.push(a)}return i;function o(){var t={};t.deltaTime=r.readVarInt();var n=r.readUInt8();if(240==(240&n)){if(255!==n){if(240==n){t.type="sysEx";a=r.readVarInt();return t.data=r.readBytes(a),t}if(247==n){t.type="endSysEx";a=r.readVarInt();return t.data=r.readBytes(a),t}throw"Unrecognised MIDI event type byte: "+n}t.meta=!0;var i=r.readUInt8(),a=r.readVarInt();switch(i){case 0:if(t.type="sequenceNumber",2!==a)throw"Expected length for sequenceNumber event is 2, got "+a;return t.number=stream.readUInt16(),t;case 1:return t.type="text",t.text=r.readString(a),t;case 2:return t.type="copyrightNotice",t.text=r.readString(a),t;case 3:return t.type="trackName",t.text=r.readString(a),t;case 4:return t.type="instrumentName",t.text=r.readString(a),t;case 5:return t.type="lyrics",t.text=r.readString(a),t;case 6:return t.type="marker",t.text=r.readString(a),t;case 7:return t.type="cuePoint",t.text=r.readString(a),t;case 32:if(t.type="channelPrefix",1!=a)throw"Expected length for channelPrefix event is 1, got "+a;return t.channel=r.readUInt8(),t;case 33:if(t.type="portPrefix",1!=a)throw"Expected length for portPrefix event is 1, got "+a;return t.port=r.readUInt8(),t;case 47:if(t.type="endOfTrack",0!=a)throw"Expected length for endOfTrack event is 0, got "+a;return t;case 81:if(t.type="setTempo",3!=a)throw"Expected length for setTempo event is 3, got "+a;return t.microsecondsPerBeat=r.readUInt24(),t;case 84:if(t.type="smpteOffset",5!=a)throw"Expected length for smpteOffset event is 5, got "+a;var o=r.readUInt8();return t.frameRate={0:24,32:25,64:29,96:30}[96&o],t.hour=31&o,t.min=r.readUInt8(),t.sec=r.readUInt8(),t.frame=r.readUInt8(),t.subFrame=r.readUInt8(),t;case 88:if(t.type="timeSignature",4!=a)throw"Expected length for timeSignature event is 4, got "+a;return t.numerator=r.readUInt8(),t.denominator=1<<r.readUInt8(),t.metronome=r.readUInt8(),t.thirtyseconds=r.readUInt8(),t;case 89:if(t.type="keySignature",2!=a)throw"Expected length for keySignature event is 2, got "+a;return t.key=r.readInt8(),t.scale=r.readUInt8(),t;case 127:return t.type="sequencerSpecific",t.data=r.readBytes(a),t;default:return t.type="unknownMeta",t.data=r.readBytes(a),t.metatypeByte=i,t}}else{var s;if(0==(128&n)){if(null===e)throw"Running status byte encountered before status byte";s=n,n=e,t.running=!0}else s=r.readUInt8(),e=n;var u=n>>4;switch(t.channel=15&n,u){case 8:return t.type="noteOff",t.noteNumber=s,t.velocity=r.readUInt8(),t;case 9:var c=r.readUInt8();return t.type=0===c?"noteOff":"noteOn",t.noteNumber=s,t.velocity=c,0===c&&(t.byte9=!0),t;case 10:return t.type="noteAftertouch",t.noteNumber=s,t.amount=r.readUInt8(),t;case 11:return t.type="controller",t.controllerType=s,t.value=r.readUInt8(),t;case 12:return t.type="programChange",t.programNumber=s,t;case 13:return t.type="channelAftertouch",t.amount=s,t;case 14:return t.type="pitchBend",t.value=s+(r.readUInt8()<<7)-8192,t;default:throw"Unrecognised MIDI event type: "+u}}}}function n(t){this.buffer=t,this.bufferLen=this.buffer.length,this.pos=0}n.prototype.eof=function(){return this.pos>=this.bufferLen},n.prototype.readUInt8=function(){var t=this.buffer[this.pos];return this.pos+=1,t},n.prototype.readInt8=function(){var t=this.readUInt8();return 128&t?t-256:t},n.prototype.readUInt16=function(){return(this.readUInt8()<<8)+this.readUInt8()},n.prototype.readInt16=function(){var t=this.readUInt16();return 32768&t?t-65536:t},n.prototype.readUInt24=function(){return(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},n.prototype.readInt24=function(){var t=this.readUInt24();return 8388608&t?t-16777216:t},n.prototype.readUInt32=function(){return(this.readUInt8()<<24)+(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},n.prototype.readBytes=function(t){var e=this.buffer.slice(this.pos,this.pos+t);return this.pos+=t,e},n.prototype.readString=function(t){var e=this.readBytes(t);return String.fromCharCode.apply(null,e)},n.prototype.readVarInt=function(){for(var t=0;!this.eof();){var e=this.readUInt8();if(!(128&e))return t+e;t+=127&e,t<<=7}return t},n.prototype.readChunk=function(){var t=this.readString(4),e=this.readUInt32();return{id:t,length:e,data:this.readBytes(e)}},t.exports=function(t){var e=new n(t),i=e.readChunk();if("MThd"!=i.id)throw"Bad MIDI file.  Expected 'MHdr', got: '"+i.id+"'";for(var a=function(t){var e=new n(t),r=e.readUInt16(),i=e.readUInt16(),a={format:r,numTracks:i},o=e.readUInt16();return 32768&o?(a.framesPerSecond=256-(o>>8),a.ticksPerFrame=255&o):a.ticksPerBeat=o,a}(i.data),o=[],s=0;!e.eof()&&s<a.numTracks;s++){var u=e.readChunk();if("MTrk"!=u.id)throw"Bad MIDI file.  Expected 'MTrk', got: '"+u.id+"'";var c=r(u.data);o.push(c)}return{header:a,tracks:o}}},function(t,e){function r(t,e,r){var a,o=new i,s=e.length,u=null;for(a=0;a<s;a++)!1!==r.running&&(r.running||e[a].running)||(u=null),u=n(o,e[a],u,r.useByte9ForNoteOff);t.writeChunk("MTrk",o.buffer)}function n(t,e,r,n){var i=e.type,a=e.deltaTime,o=e.text||"",s=e.data||[],u=null;switch(t.writeVarInt(a),i){case"sequenceNumber":t.writeUInt8(255),t.writeUInt8(0),t.writeVarInt(2),t.writeUInt16(e.number);break;case"text":t.writeUInt8(255),t.writeUInt8(1),t.writeVarInt(o.length),t.writeString(o);break;case"copyrightNotice":t.writeUInt8(255),t.writeUInt8(2),t.writeVarInt(o.length),t.writeString(o);break;case"trackName":t.writeUInt8(255),t.writeUInt8(3),t.writeVarInt(o.length),t.writeString(o);break;case"instrumentName":t.writeUInt8(255),t.writeUInt8(4),t.writeVarInt(o.length),t.writeString(o);break;case"lyrics":t.writeUInt8(255),t.writeUInt8(5),t.writeVarInt(o.length),t.writeString(o);break;case"marker":t.writeUInt8(255),t.writeUInt8(6),t.writeVarInt(o.length),t.writeString(o);break;case"cuePoint":t.writeUInt8(255),t.writeUInt8(7),t.writeVarInt(o.length),t.writeString(o);break;case"channelPrefix":t.writeUInt8(255),t.writeUInt8(32),t.writeVarInt(1),t.writeUInt8(e.channel);break;case"portPrefix":t.writeUInt8(255),t.writeUInt8(33),t.writeVarInt(1),t.writeUInt8(e.port);break;case"endOfTrack":t.writeUInt8(255),t.writeUInt8(47),t.writeVarInt(0);break;case"setTempo":t.writeUInt8(255),t.writeUInt8(81),t.writeVarInt(3),t.writeUInt24(e.microsecondsPerBeat);break;case"smpteOffset":t.writeUInt8(255),t.writeUInt8(84),t.writeVarInt(5);var c=31&e.hour|{24:0,25:32,29:64,30:96}[e.frameRate];t.writeUInt8(c),t.writeUInt8(e.min),t.writeUInt8(e.sec),t.writeUInt8(e.frame),t.writeUInt8(e.subFrame);break;case"timeSignature":t.writeUInt8(255),t.writeUInt8(88),t.writeVarInt(4),t.writeUInt8(e.numerator);var h=255&Math.floor(Math.log(e.denominator)/Math.LN2);t.writeUInt8(h),t.writeUInt8(e.metronome),t.writeUInt8(e.thirtyseconds||8);break;case"keySignature":t.writeUInt8(255),t.writeUInt8(89),t.writeVarInt(2),t.writeInt8(e.key),t.writeUInt8(e.scale);break;case"sequencerSpecific":t.writeUInt8(255),t.writeUInt8(127),t.writeVarInt(s.length),t.writeBytes(s);break;case"unknownMeta":null!=e.metatypeByte&&(t.writeUInt8(255),t.writeUInt8(e.metatypeByte),t.writeVarInt(s.length),t.writeBytes(s));break;case"sysEx":t.writeUInt8(240),t.writeVarInt(s.length),t.writeBytes(s);break;case"endSysEx":t.writeUInt8(247),t.writeVarInt(s.length),t.writeBytes(s);break;case"noteOff":(u=(!1!==n&&e.byte9||n&&0==e.velocity?144:128)|e.channel)!==r&&t.writeUInt8(u),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteOn":(u=144|e.channel)!==r&&t.writeUInt8(u),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteAftertouch":(u=160|e.channel)!==r&&t.writeUInt8(u),t.writeUInt8(e.noteNumber),t.writeUInt8(e.amount);break;case"controller":(u=176|e.channel)!==r&&t.writeUInt8(u),t.writeUInt8(e.controllerType),t.writeUInt8(e.value);break;case"programChange":(u=192|e.channel)!==r&&t.writeUInt8(u),t.writeUInt8(e.programNumber);break;case"channelAftertouch":(u=208|e.channel)!==r&&t.writeUInt8(u),t.writeUInt8(e.amount);break;case"pitchBend":(u=224|e.channel)!==r&&t.writeUInt8(u);var f=8192+e.value,p=127&f,l=f>>7&127;t.writeUInt8(p),t.writeUInt8(l);break;default:throw"Unrecognized event type: "+i}return u}function i(){this.buffer=[]}i.prototype.writeUInt8=function(t){this.buffer.push(255&t)},i.prototype.writeInt8=i.prototype.writeUInt8,i.prototype.writeUInt16=function(t){var e=t>>8&255,r=255&t;this.writeUInt8(e),this.writeUInt8(r)},i.prototype.writeInt16=i.prototype.writeUInt16,i.prototype.writeUInt24=function(t){var e=t>>16&255,r=t>>8&255,n=255&t;this.writeUInt8(e),this.writeUInt8(r),this.writeUInt8(n)},i.prototype.writeInt24=i.prototype.writeUInt24,i.prototype.writeUInt32=function(t){var e=t>>24&255,r=t>>16&255,n=t>>8&255,i=255&t;this.writeUInt8(e),this.writeUInt8(r),this.writeUInt8(n),this.writeUInt8(i)},i.prototype.writeInt32=i.prototype.writeUInt32,i.prototype.writeBytes=function(t){this.buffer=this.buffer.concat(Array.prototype.slice.call(t,0))},i.prototype.writeString=function(t){var e,r=t.length,n=[];for(e=0;e<r;e++)n.push(t.codePointAt(e));this.writeBytes(n)},i.prototype.writeVarInt=function(t){if(t<0)throw"Cannot write negative variable-length integer";if(t<=127)this.writeUInt8(t);else{var e=t,r=[];for(r.push(127&e),e>>=7;e;){var n=127&e|128;r.push(n),e>>=7}this.writeBytes(r.reverse())}},i.prototype.writeChunk=function(t,e){this.writeString(t),this.writeUInt32(e.length),this.writeBytes(e)},t.exports=function(t,e){if("object"!=typeof t)throw"Invalid MIDI data";e=e||{};var n,a=t.header||{},o=t.tracks||[],s=o.length,u=new i;for(function(t,e,r){var n=null==e.format?1:e.format,a=128;e.timeDivision?a=e.timeDivision:e.ticksPerFrame&&e.framesPerSecond?a=-(255&e.framesPerSecond)<<8|255&ticksPerFrame:e.ticksPerBeat&&(a=32767&e.ticksPerBeat);var o=new i;o.writeUInt16(n),o.writeUInt16(r),o.writeUInt16(a),t.writeChunk("MThd",o.buffer)}(u,a,s),n=0;n<s;n++)r(u,o[n],e);return u.buffer}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(1),a=r(8);function o(t){return a(t.notes.map(function(e){return function(t,e){return[{absoluteTime:t.ticks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOn",velocity:Math.floor(127*t.velocity)},{absoluteTime:t.ticks+t.durationTicks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOff",velocity:Math.floor(127*t.noteOffVelocity)}]}(e,t.channel)}))}function s(t,e){return{absoluteTime:t.ticks,channel:e,controllerType:t.number,deltaTime:0,type:"controller",value:t.value}}function u(t){return{absoluteTime:0,channel:t.channel,deltaTime:0,programNumber:t.instrument.number,type:"programChange"}}e.encode=function(t){var e={header:{format:1,numTracks:t.tracks.length+1,ticksPerBeat:t.header.ppq},tracks:[[{absoluteTime:0,deltaTime:0,meta:!0,text:t.header.name,type:"trackName"}].concat(t.header.keySignatures.map(function(t){return function(t){var e=i.keySignatureKeys.indexOf(t.key);return{absoluteTime:t.ticks,deltaTime:0,key:e+7,meta:!0,scale:"major"===t.scale?0:1,type:"keySignature"}}(t)}),t.header.meta.map(function(t){return{absoluteTime:(e=t).ticks,deltaTime:0,meta:!0,text:e.text,type:e.type};var e}),t.header.tempos.map(function(t){return function(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/t.bpm),type:"setTempo"}}(t)}),t.header.timeSignatures.map(function(t){return function(t){return{absoluteTime:t.ticks,deltaTime:0,denominator:t.timeSignature[1],meta:!0,metronome:24,numerator:t.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}(t)}))].concat(t.tracks.map(function(t){return[(e=t.name,{absoluteTime:0,deltaTime:0,meta:!0,text:e,type:"trackName"}),u(t)].concat(o(t),function(t){for(var e=[],r=0;r<127;r++)t.controlChanges.hasOwnProperty(r)&&t.controlChanges[r].forEach(function(r){e.push(s(r,t.channel))});return e}(t));var e}))};return e.tracks=e.tracks.map(function(t){t=t.sort(function(t,e){return t.absoluteTime-e.absoluteTime});var e=0;return t.forEach(function(t){t.deltaTime=t.absoluteTime-e,e=t.absoluteTime,delete t.absoluteTime}),t.push({deltaTime:0,meta:!0,type:"endOfTrack"}),t}),new Uint8Array(n.writeMidi(e))}},function(t,e,r){"use strict";function n(t){return function t(e,r){for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?t(i,r):r.push(i)}return r}(t,[])}function i(t,e){if("number"!=typeof e)throw new TypeError("Expected the depth to be a number");return function t(e,r,n){n--;for(var i=0;i<e.length;i++){var a=e[i];n>-1&&Array.isArray(a)?t(a,r,n):r.push(a)}return r}(t,[],e)}t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return n(t)},t.exports.from=n,t.exports.depth=function(t,e){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return i(t,e)},t.exports.fromDepth=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(3),a=r(10),o=r(11),s=r(13),u=new WeakMap,c=function(){function t(t,e){var r=this;if(this.name="",this.notes=[],this.controlChanges=a.createControlChanges(),u.set(this,e),t){var n=t.find(function(t){return"trackName"===t.type});this.name=n?n.text:""}if(this.instrument=new o.Instrument(t,this),this.channel=0,t){for(var i=t.filter(function(t){return"noteOn"===t.type}),s=t.filter(function(t){return"noteOff"===t.type}),c=function(){var t=i.shift(),e=s.findIndex(function(e){return e.noteNumber===t.noteNumber});if(-1!==e){var r=s.splice(e,1)[0];h.addNote({durationTicks:r.absoluteTime-t.absoluteTime,midi:t.noteNumber,noteOffVelocity:r.velocity/127,ticks:t.absoluteTime,velocity:t.velocity/127})}},h=this;i.length;)c();t.filter(function(t){return"controller"===t.type}).forEach(function(t){r.addCC({number:t.controllerType,ticks:t.absoluteTime,value:t.value/127})})}}return t.prototype.addNote=function(t){void 0===t&&(t={});var e=u.get(this),r=new s.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},e);return Object.assign(r,t),n.insert(this.notes,r,"ticks"),this},t.prototype.addCC=function(t){var e=u.get(this),r=new i.ControlChange({controllerType:t.number},e);return delete t.number,Object.assign(r,t),Array.isArray(this.controlChanges[r.number])||(this.controlChanges[r.number]=[]),n.insert(this.controlChanges[r.number],r,"ticks"),this},Object.defineProperty(t.prototype,"duration",{get:function(){var t=this.notes[this.notes.length-1];return t?t.time+t.duration:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationTicks",{get:function(){var t=this.notes[this.notes.length-1];return t?t.ticks+t.durationTicks:0},enumerable:!0,configurable:!0}),t.prototype.fromJSON=function(t){var e=this;for(var r in this.name=t.name,this.channel=t.channel,this.instrument=new o.Instrument(void 0,this),this.instrument.fromJSON(t.instrument),t.controlChanges)t.controlChanges[r]&&t.controlChanges[r].forEach(function(t){e.addCC({number:t.number,ticks:t.ticks,value:t.value})});t.notes.forEach(function(t){e.addNote({durationTicks:t.durationTicks,midi:t.midi,ticks:t.ticks,velocity:t.velocity})})},t.prototype.toJSON=function(){for(var t={},e=0;e<127;e++)this.controlChanges.hasOwnProperty(e)&&(t[e]=this.controlChanges[e].map(function(t){return t.toJSON()}));return{channel:this.channel,controlChanges:t,instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(t){return t.toJSON()})}},t}();e.Track=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3);e.createControlChanges=function(){return new Proxy({},{get:function(t,e){return t[e]?t[e]:n.controlChangeIds.hasOwnProperty(e)?t[n.controlChangeIds[e]]:void 0},set:function(t,e,r){return n.controlChangeIds.hasOwnProperty(e)?t[n.controlChangeIds[e]]=r:t[e]=r,!0}})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(12),i=new WeakMap,a=function(){function t(t,e){if(this.number=0,i.set(this,e),this.number=0,t){var r=t.find(function(t){return"programChange"===t.type});r&&(this.number=r.programNumber)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.percussion?n.drumKitByPatchID[this.number]:n.instrumentByPatchID[this.number]},set:function(t){var e=n.instrumentByPatchID.indexOf(t);-1!==e&&(this.number=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"family",{get:function(){return this.percussion?"drums":n.instrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percussion",{get:function(){var t=i.get(this);return[9,10].includes(t.channel)},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{family:this.family,name:this.name,number:this.number}},t.prototype.fromJSON=function(t){this.number=t.number},t}();e.Instrument=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],e.instrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],e.drumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}},function(t,e,r){"use strict";function n(t){return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t%12]}Object.defineProperty(e,"__esModule",{value:!0});var i,a,o=(i=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,a={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},function(t){var e=i.exec(t),r=e[1],n=e[2];return a[r.toLowerCase()]+12*(parseInt(n,10)+1)}),s=new WeakMap,u=function(){function t(t,e,r){s.set(this,r),this.midi=t.midi,this.velocity=t.velocity,this.noteOffVelocity=e.velocity,this.ticks=t.ticks,this.durationTicks=e.ticks-t.ticks}return Object.defineProperty(t.prototype,"name",{get:function(){return t=this.midi,e=Math.floor(t/12)-1,n(t)+e.toString();var t,e},set:function(t){this.midi=o(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(t){var e=t-this.octave;this.midi+=12*e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pitch",{get:function(){return n(this.midi)},set:function(t){this.midi=12*(this.octave+1)+["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"].indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var t=s.get(this);return t.ticksToSeconds(this.ticks+this.durationTicks)-t.ticksToSeconds(this.ticks)},set:function(t){var e=s.get(this).secondsToTicks(this.time+t);this.durationTicks=e-this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return s.get(this).ticksToSeconds(this.ticks)},set:function(t){var e=s.get(this);this.ticks=e.secondsToTicks(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bars",{get:function(){return s.get(this).ticksToMeasures(this.ticks)},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},t}();e.Note=u}]).Midi});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NaWRpL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9NaWRpL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL01pZGkvLi9ub2RlX21vZHVsZXMvbWlkaS1maWxlL2luZGV4LmpzIiwid2VicGFjazovL01pZGkvLi9zcmMvSGVhZGVyLnRzIiwid2VicGFjazovL01pZGkvLi9zcmMvQmluYXJ5U2VhcmNoLnRzIiwid2VicGFjazovL01pZGkvLi9zcmMvQ29udHJvbENoYW5nZS50cyIsIndlYnBhY2s6Ly9NaWRpLy4vc3JjL01pZGkudHMiLCJ3ZWJwYWNrOi8vTWlkaS8uL25vZGVfbW9kdWxlcy9taWRpLWZpbGUvbGliL21pZGktcGFyc2VyLmpzIiwid2VicGFjazovL01pZGkvLi9ub2RlX21vZHVsZXMvbWlkaS1maWxlL2xpYi9taWRpLXdyaXRlci5qcyIsIndlYnBhY2s6Ly9NaWRpLy4vc3JjL0VuY29kZS50cyIsIndlYnBhY2s6Ly9NaWRpLy4vbm9kZV9tb2R1bGVzL2FycmF5LWZsYXR0ZW4vYXJyYXktZmxhdHRlbi5qcyIsIndlYnBhY2s6Ly9NaWRpLy4vc3JjL1RyYWNrLnRzIiwid2VicGFjazovL01pZGkvLi9zcmMvQ29udHJvbENoYW5nZXMudHMiLCJ3ZWJwYWNrOi8vTWlkaS8uL3NyYy9JbnN0cnVtZW50LnRzIiwid2VicGFjazovL01pZGkvLi9zcmMvSW5zdHJ1bWVudE1hcHMudHMiLCJ3ZWJwYWNrOi8vTWlkaS8uL3NyYy9Ob3RlLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInBhcnNlTWlkaSIsIndyaXRlTWlkaSIsIkJpbmFyeVNlYXJjaF8xIiwicHJpdmF0ZVBQUU1hcCIsIldlYWtNYXAiLCJrZXlTaWduYXR1cmVLZXlzIiwiSGVhZGVyIiwibWlkaURhdGEiLCJfdGhpcyIsInRlbXBvcyIsInRpbWVTaWduYXR1cmVzIiwia2V5U2lnbmF0dXJlcyIsIm1ldGEiLCJzZXQiLCJoZWFkZXIiLCJ0aWNrc1BlckJlYXQiLCJ0cmFja3MiLCJmb3JFYWNoIiwiZXZlbnQiLCJ0eXBlIiwicHVzaCIsInRpY2tzIiwiYWJzb2x1dGVUaW1lIiwidGltZVNpZ25hdHVyZSIsIm51bWVyYXRvciIsImRlbm9taW5hdG9yIiwiYnBtIiwibWljcm9zZWNvbmRzUGVyQmVhdCIsInNjYWxlIiwidGV4dCIsInVwZGF0ZSIsImN1cnJlbnRUaW1lIiwibGFzdEV2ZW50QmVhdHMiLCJzb3J0IiwiYSIsImIiLCJpbmRleCIsImxhc3RCUE0iLCJiZWF0cyIsInBwcSIsImVsYXBzZWRTZWNvbmRzIiwidGltZSIsImxhc3RFdmVudCIsImVsYXBzZWRNZWFzdXJlcyIsIm1lYXN1cmVzIiwidGlja3NUb1NlY29uZHMiLCJzZWFyY2giLCJ0ZW1wbyIsInRlbXBvVGltZSIsImVsYXBzZWRCZWF0cyIsInRpY2tzVG9NZWFzdXJlcyIsInRpbWVTaWdFdmVudCIsInNlY29uZHNUb1RpY2tzIiwic2Vjb25kcyIsIk1hdGgiLCJyb3VuZCIsInRvSlNPTiIsIm1hcCIsImZyb21KU09OIiwianNvbiIsImFzc2lnbiIsImFycmF5IiwicHJvcCIsImJlZ2lubmluZyIsImxlbiIsImxlbmd0aCIsImVuZCIsIm1pZFBvaW50IiwiZmxvb3IiLCJldmVudF8xIiwibmV4dEV2ZW50IiwiaW5zZXJ0Iiwic3BsaWNlIiwiY29udHJvbENoYW5nZU5hbWVzIiwiMSIsIjIiLCI0IiwiNSIsIjciLCI4IiwiMTAiLCI2NCIsIjY1IiwiNjYiLCI2NyIsIjY4IiwiODQiLCJjb250cm9sQ2hhbmdlSWRzIiwia2V5cyIsInJlZHVjZSIsIm9iaiIsInByaXZhdGVIZWFkZXJNYXAiLCJwcml2YXRlQ0NOdW1iZXJNYXAiLCJDb250cm9sQ2hhbmdlIiwiY29udHJvbGxlclR5cGUiLCJudW1iZXIiLCJtaWRpX2ZpbGVfMSIsIkVuY29kZV8xIiwiSGVhZGVyXzEiLCJUcmFja18xIiwiTWlkaSIsIm1pZGlBcnJheSIsIkFycmF5QnVmZmVyIiwiVWludDhBcnJheSIsInRyYWNrIiwiY3VycmVudFRpY2tzIiwiZGVsdGFUaW1lIiwidHJhY2tEYXRhIiwiVHJhY2siLCJmb3JtYXQiLCJkdXJhdGlvbiIsInNoaWZ0IiwiZnJvbVVybCIsInVybCIsImZldGNoIiwicmVzcG9uc2UiLCJfYSIsInNlbnQiLCJvayIsImFycmF5QnVmZmVyIiwiRXJyb3IiLCJkdXJhdGlvbnMiLCJtYXgiLCJhcHBseSIsImR1cmF0aW9uVGlja3MiLCJhZGRUcmFjayIsInVuZGVmaW5lZCIsInRvQXJyYXkiLCJlbmNvZGUiLCJ0cmFja0pTT04iLCJjbG9uZSIsIm1pZGkiLCJwYXJzZVRyYWNrIiwiZGF0YSIsImxhc3RFdmVudFR5cGVCeXRlIiwiUGFyc2VyIiwiZXZlbnRzIiwiZW9mIiwicmVhZEV2ZW50IiwicmVhZFZhckludCIsImV2ZW50VHlwZUJ5dGUiLCJyZWFkVUludDgiLCJyZWFkQnl0ZXMiLCJtZXRhdHlwZUJ5dGUiLCJzdHJlYW0iLCJyZWFkVUludDE2IiwicmVhZFN0cmluZyIsImNoYW5uZWwiLCJwb3J0IiwicmVhZFVJbnQyNCIsImhvdXJCeXRlIiwiZnJhbWVSYXRlIiwiMCIsIjMyIiwiOTYiLCJob3VyIiwibWluIiwic2VjIiwiZnJhbWUiLCJzdWJGcmFtZSIsIm1ldHJvbm9tZSIsInRoaXJ0eXNlY29uZHMiLCJyZWFkSW50OCIsInBhcmFtMSIsInJ1bm5pbmciLCJldmVudFR5cGUiLCJub3RlTnVtYmVyIiwidmVsb2NpdHkiLCJieXRlOSIsImFtb3VudCIsInByb2dyYW1OdW1iZXIiLCJidWZmZXIiLCJidWZmZXJMZW4iLCJwb3MiLCJyZXN1bHQiLCJ1IiwicmVhZEludDE2IiwicmVhZEludDI0IiwicmVhZFVJbnQzMiIsImJ5dGVzIiwic2xpY2UiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJyZWFkQ2h1bmsiLCJpZCIsImhlYWRlckNodW5rIiwibnVtVHJhY2tzIiwidGltZURpdmlzaW9uIiwiZnJhbWVzUGVyU2Vjb25kIiwidGlja3NQZXJGcmFtZSIsInBhcnNlSGVhZGVyIiwidHJhY2tDaHVuayIsIndyaXRlVHJhY2siLCJ3Iiwib3B0cyIsIldyaXRlciIsIndyaXRlRXZlbnQiLCJ1c2VCeXRlOUZvck5vdGVPZmYiLCJ3cml0ZUNodW5rIiwid3JpdGVWYXJJbnQiLCJ3cml0ZVVJbnQ4Iiwid3JpdGVVSW50MTYiLCJ3cml0ZVN0cmluZyIsIndyaXRlVUludDI0IiwiMjQiLCIyNSIsIjI5IiwiMzAiLCJsb2ciLCJMTjIiLCJ3cml0ZUludDgiLCJ3cml0ZUJ5dGVzIiwidmFsdWUxNCIsImxzYjE0IiwibXNiMTQiLCJ2IiwiYjAiLCJiMSIsIndyaXRlSW50MTYiLCJiMiIsIndyaXRlSW50MjQiLCJ3cml0ZVVJbnQzMiIsImIzIiwid3JpdGVJbnQzMiIsImFyciIsImNvbmNhdCIsIkFycmF5Iiwic3RyIiwiY29kZVBvaW50QXQiLCJyZXZlcnNlIiwiaCIsIndyaXRlSGVhZGVyIiwiZmxhdHRlbiIsImVuY29kZU5vdGVzIiwibm90ZXMiLCJub3RlIiwibm90ZU9mZlZlbG9jaXR5IiwiZW5jb2RlTm90ZSIsImVuY29kZUNvbnRyb2xDaGFuZ2UiLCJjYyIsImVuY29kZUluc3RydW1lbnQiLCJpbnN0cnVtZW50Iiwia2V5U2lnIiwia2V5SW5kZXgiLCJpbmRleE9mIiwiZW5jb2RlS2V5U2lnbmF0dXJlIiwiZSIsInRleHRFdmVudCIsImVuY29kZVRlbXBvIiwidGltZVNpZyIsImVuY29kZVRpbWVTaWduYXR1cmUiLCJjb250cm9sQ2hhbmdlcyIsImVuY29kZUNvbnRyb2xDaGFuZ2VzIiwibGFzdFRpbWUiLCJmbGF0dGVuRnJvbSIsImZsYXR0ZW5Eb3duIiwiaXNBcnJheSIsImZsYXR0ZW5Gcm9tRGVwdGgiLCJkZXB0aCIsIlR5cGVFcnJvciIsImZsYXR0ZW5Eb3duRGVwdGgiLCJmcm9tIiwiZnJvbURlcHRoIiwiQ29udHJvbENoYW5nZV8xIiwiQ29udHJvbENoYW5nZXNfMSIsIkluc3RydW1lbnRfMSIsIk5vdGVfMSIsImNyZWF0ZUNvbnRyb2xDaGFuZ2VzIiwibmFtZUV2ZW50IiwiZmluZCIsIkluc3RydW1lbnQiLCJub3RlT25zIiwiZmlsdGVyIiwibm90ZU9mZnMiLCJjdXJyZW50Tm90ZSIsIm9mZkluZGV4IiwiZmluZEluZGV4Iiwibm90ZU9mZiIsInRoaXNfMSIsImFkZE5vdGUiLCJhZGRDQyIsInByb3BzIiwiTm90ZSIsImxhc3ROb3RlIiwiUHJveHkiLCJ0YXJnZXQiLCJoYW5kbGVyIiwiSW5zdHJ1bWVudE1hcHNfMSIsInByaXZhdGVUcmFja01hcCIsInByb2dyYW1DaGFuZ2UiLCJwZXJjdXNzaW9uIiwiZHJ1bUtpdEJ5UGF0Y2hJRCIsImluc3RydW1lbnRCeVBhdGNoSUQiLCJwYXRjaE51bWJlciIsImluc3RydW1lbnRGYW1pbHlCeUlEIiwiaW5jbHVkZXMiLCJmYW1pbHkiLCIxNiIsIjQwIiwiNDgiLCI1NiIsIm1pZGlUb1BpdGNoQ2xhc3MiLCJyZWdleHAiLCJub3RlVG9TY2FsZUluZGV4IiwicGl0Y2hUb01pZGkiLCJjYmIiLCJjYiIsImMjIiwiY3giLCJkYmIiLCJkYiIsImQjIiwiZHgiLCJlYmIiLCJlYiIsImUjIiwiZXgiLCJmYmIiLCJmYiIsImYiLCJmIyIsImZ4IiwiZ2JiIiwiZ2IiLCJnIiwiZyMiLCJneCIsImFiYiIsImFiIiwiYSMiLCJheCIsImJiYiIsImJiIiwiYiMiLCJieCIsInNwbGl0IiwiZXhlYyIsInBpdGNoIiwib2N0YXZlIiwidG9Mb3dlckNhc2UiLCJwYXJzZUludCIsIm5vdGVPbiIsInRvU3RyaW5nIiwiZGlmZiIsIm5vdGVFbmRUaWNrcyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFDQUQsT0FBQSxHQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLEtBQUFELElBRUFELEVBQUEsS0FBQUMsSUFSQSxDQVNDLG9CQUFBSyxVQUFBQyxLQUFBLFdBQ0QsbUJDVEEsSUFBQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUixRQUdBLElBQUFDLEVBQUFLLEVBQUFFLEdBQUEsQ0FDQUMsRUFBQUQsRUFDQUUsR0FBQSxFQUNBVixRQUFBLElBVUEsT0FOQVcsRUFBQUgsR0FBQUksS0FBQVgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQU8sR0FHQU4sRUFBQVMsR0FBQSxFQUdBVCxFQUFBRCxRQTBEQSxPQXJEQU8sRUFBQU0sRUFBQUYsRUFHQUosRUFBQU8sRUFBQVIsRUFHQUMsRUFBQVEsRUFBQSxTQUFBZixFQUFBZ0IsRUFBQUMsR0FDQVYsRUFBQVcsRUFBQWxCLEVBQUFnQixJQUNBRyxPQUFBQyxlQUFBcEIsRUFBQWdCLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNWLEVBQUFnQixFQUFBLFNBQUF2QixHQUNBLG9CQUFBd0IsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQXBCLEVBQUF3QixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBcEIsRUFBQSxjQUFpRDBCLE9BQUEsS0FRakRuQixFQUFBb0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQW5CLEVBQUFtQixJQUNBLEVB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Q05zRCxTQUFXbEosS0FBS2tKLFNBQ2hCYyxjQUFnQmhLLEtBQUtnSyxjQUNyQk8sS0FBT3ZLLEtBQUt1SyxLQUNaNUosS0FBT1gsS0FBS1csS0FDWjhDLE1BQVF6RCxLQUFLeUQsTUFDYm9CLEtBQU83RSxLQUFLNkUsS0FDWjhILFNBQVczTSxLQUFLMk0sV0FHbkJtSCxFQTVIQSxHQUFhblUsRUFBQW1VIiwiZmlsZSI6Ik1pZGkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJNaWRpXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIk1pZGlcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiZXhwb3J0cy5wYXJzZU1pZGkgPSByZXF1aXJlKCcuL2xpYi9taWRpLXBhcnNlcicpXG5leHBvcnRzLndyaXRlTWlkaSA9IHJlcXVpcmUoJy4vbGliL21pZGktd3JpdGVyJylcbiIsImltcG9ydCB7IHNlYXJjaCB9IGZyb20gXCIuL0JpbmFyeVNlYXJjaFwiO1xuaW1wb3J0IHsgTWlkaURhdGEgfSBmcm9tIFwiLi9taWRpLWZpbGVcIjtcblxuY29uc3QgcHJpdmF0ZVBQUU1hcCA9IG5ldyBXZWFrTWFwPEhlYWRlciwgbnVtYmVyPigpO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBvRXZlbnQge1xuXHR0aWNrczogbnVtYmVyO1xuXHRicG06IG51bWJlcjtcblx0dGltZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaW1lU2lnbmF0dXJlRXZlbnQge1xuXHR0aWNrczogbnVtYmVyO1xuXHR0aW1lU2lnbmF0dXJlOiBudW1iZXJbXTtcblx0bWVhc3VyZXM/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YUV2ZW50IHtcblx0dGV4dDogc3RyaW5nO1xuXHR0eXBlOiBzdHJpbmc7XG5cdHRpY2tzOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2V5U2lnbmF0dXJlRXZlbnQge1xuXHR0aWNrczogbnVtYmVyO1xuXHRrZXk6IHN0cmluZztcblx0c2NhbGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGtleVNpZ25hdHVyZUtleXMgPSBbXCJDYlwiLCBcIkdiXCIsIFwiRGJcIiwgXCJBYlwiLCBcIkViXCIsIFwiQmJcIiwgXCJGXCIsIFwiQ1wiLCBcIkdcIiwgXCJEXCIsIFwiQVwiLCBcIkVcIiwgXCJCXCIsIFwiRiNcIiwgXCJDI1wiXTtcblxuLyoqIFRoZSBwYXJzZWQgbWlkaSBmaWxlIGhlYWRlciAqL1xuZXhwb3J0IGNsYXNzIEhlYWRlciB7XG5cblx0LyoqXG5cdCAqIFRoZSBhcnJheSBvZiBhbGwgdGhlIHRlbXBvIGV2ZW50c1xuXHQgKi9cblx0dGVtcG9zOiBUZW1wb0V2ZW50W10gPSBbXTtcblxuXHQvKipcblx0ICogVGhlIHRpbWUgc2lnbmF0dXJlc1xuXHQgKi9cblx0dGltZVNpZ25hdHVyZXM6IFRpbWVTaWduYXR1cmVFdmVudFtdID0gW107XG5cblx0LyoqXG5cdCAqIFRoZSB0aW1lIHNpZ25hdHVyZXNcblx0ICovXG5cdGtleVNpZ25hdHVyZXM6IEtleVNpZ25hdHVyZUV2ZW50W10gPSBbXTtcblxuXHQvKipcblx0ICogQWRkaXRpb25hbCBtZXRhIGV2ZW50c1xuXHQgKi9cblx0bWV0YTogTWV0YUV2ZW50W10gPSBbXTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgb2YgdGhlIG1pZGkgZmlsZVxuXHQgKi9cblx0bmFtZTogc3RyaW5nID0gXCJcIjtcblxuXHRjb25zdHJ1Y3RvcihtaWRpRGF0YT86IE1pZGlEYXRhKSB7XG5cdFx0Ly8gbG9vayB0aHJvdWdoIGFsbCB0aGUgdHJhY2tzIGZvciB0ZW1wbyBjaGFuZ2VzXG5cblx0XHRwcml2YXRlUFBRTWFwLnNldCh0aGlzLCA0ODApO1xuXG5cdFx0aWYgKG1pZGlEYXRhKSB7XG5cdFx0XHRwcml2YXRlUFBRTWFwLnNldCh0aGlzLCBtaWRpRGF0YS5oZWFkZXIudGlja3NQZXJCZWF0KTtcblx0XHRcdC8vIGNoZWNrIHRoZSBmaXJzdCB0cmFjayBmb3IgYWxsIHRoZSByZWxldmFudCBkYXRhXG5cdFx0XHRtaWRpRGF0YS50cmFja3NbMF0uZm9yRWFjaChldmVudCA9PiB7XG5cdFx0XHRcdGlmIChldmVudC5tZXRhKSB7XG5cdFx0XHRcdFx0aWYgKGV2ZW50LnR5cGUgPT09IFwidGltZVNpZ25hdHVyZVwiKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRpbWVTaWduYXR1cmVzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHR0aWNrcyA6IGV2ZW50LmFic29sdXRlVGltZSxcblx0XHRcdFx0XHRcdFx0dGltZVNpZ25hdHVyZSA6IFtldmVudC5udW1lcmF0b3IsIGV2ZW50LmRlbm9taW5hdG9yXSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJzZXRUZW1wb1wiKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRlbXBvcy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0YnBtIDogNjAwMDAwMDAgLyBldmVudC5taWNyb3NlY29uZHNQZXJCZWF0LFxuXHRcdFx0XHRcdFx0XHR0aWNrcyA6IGV2ZW50LmFic29sdXRlVGltZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJrZXlTaWduYXR1cmVcIikge1xuXHRcdFx0XHRcdFx0dGhpcy5rZXlTaWduYXR1cmVzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRrZXk6IGtleVNpZ25hdHVyZUtleXNbZXZlbnQua2V5ICsgN10sXG5cdFx0XHRcdFx0XHRcdHNjYWxlOiBldmVudC5zY2FsZSA9PT0gMCA/IFwibWFqb3JcIiA6IFwibWlub3JcIixcblx0XHRcdFx0XHRcdFx0dGlja3M6IGV2ZW50LmFic29sdXRlVGltZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJ0cmFja05hbWVcIikge1xuXHRcdFx0XHRcdFx0dGhpcy5uYW1lID0gZXZlbnQudGV4dDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGV2ZW50LnR5cGUgIT09IFwiZW5kT2ZUcmFja1wiKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1ldGEucHVzaCh7XG5cdFx0XHRcdFx0XHRcdHRleHQ6IGV2ZW50LnRleHQsXG5cdFx0XHRcdFx0XHRcdHRpY2tzOiBldmVudC5hYnNvbHV0ZVRpbWUsXG5cdFx0XHRcdFx0XHRcdHR5cGU6IGV2ZW50LnR5cGUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dGhpcy51cGRhdGUoKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVGhpcyBtdXN0IGJlIGludm9rZWQgYWZ0ZXIgYW55IGNoYW5nZXMgYXJlIG1hZGUgdG8gdGhlIHRlbXBvIGFycmF5XG5cdCAqIG9yIHRoZSB0aW1lU2lnbmF0dXJlIGFycmF5IGZvciB0aGUgdXBkYXRlZCB2YWx1ZXMgdG8gYmUgcmVmbGVjdGVkLlxuXHQgKi9cblx0dXBkYXRlKCk6IHZvaWQge1xuXHRcdGxldCBjdXJyZW50VGltZSA9IDA7XG5cdFx0bGV0IGxhc3RFdmVudEJlYXRzID0gMDtcblx0XHQvLyBtYWtlIHN1cmUgaXQncyBzb3J0ZWRcblx0XHR0aGlzLnRlbXBvcy5zb3J0KChhLCBiKSA9PiBhLnRpY2tzIC0gYi50aWNrcyk7XG5cdFx0dGhpcy50ZW1wb3MuZm9yRWFjaCgoZXZlbnQsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBsYXN0QlBNID0gaW5kZXggPiAwID8gdGhpcy50ZW1wb3NbaW5kZXggLSAxXS5icG0gOiB0aGlzLnRlbXBvc1swXS5icG07XG5cdFx0XHRjb25zdCBiZWF0cyA9IChldmVudC50aWNrcyAvIHRoaXMucHBxKSAtIGxhc3RFdmVudEJlYXRzO1xuXHRcdFx0Y29uc3QgZWxhcHNlZFNlY29uZHMgPSAoNjAgLyBsYXN0QlBNKSAqIGJlYXRzO1xuXHRcdFx0ZXZlbnQudGltZSA9IGVsYXBzZWRTZWNvbmRzICsgY3VycmVudFRpbWU7XG5cdFx0XHRjdXJyZW50VGltZSA9IGV2ZW50LnRpbWU7XG5cdFx0XHRsYXN0RXZlbnRCZWF0cyArPSBiZWF0cztcblx0XHR9KTtcblx0XHR0aGlzLnRpbWVTaWduYXR1cmVzLnNvcnQoKGEsIGIpID0+IGEudGlja3MgLSBiLnRpY2tzKTtcblx0XHR0aGlzLnRpbWVTaWduYXR1cmVzLmZvckVhY2goKGV2ZW50LCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3QgbGFzdEV2ZW50ID0gaW5kZXggPiAwID8gdGhpcy50aW1lU2lnbmF0dXJlc1tpbmRleCAtIDFdIDogdGhpcy50aW1lU2lnbmF0dXJlc1swXTtcblx0XHRcdGNvbnN0IGVsYXBzZWRCZWF0cyA9IChldmVudC50aWNrcyAtIGxhc3RFdmVudC50aWNrcykgLyB0aGlzLnBwcTtcblx0XHRcdGNvbnN0IGVsYXBzZWRNZWFzdXJlcyA9IChlbGFwc2VkQmVhdHMgLyBsYXN0RXZlbnQudGltZVNpZ25hdHVyZVswXSkgLyAobGFzdEV2ZW50LnRpbWVTaWduYXR1cmVbMV0gLyA0KTtcblx0XHRcdGxhc3RFdmVudC5tZWFzdXJlcyA9IGxhc3RFdmVudC5tZWFzdXJlcyB8fCAwO1xuXHRcdFx0ZXZlbnQubWVhc3VyZXMgPSBlbGFwc2VkTWVhc3VyZXMgKyBsYXN0RXZlbnQubWVhc3VyZXM7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydCB0aWNrcyBpbnRvIHNlY29uZHMgYmFzZWQgb24gdGhlIHRlbXBvIGNoYW5nZXNcblx0ICovXG5cdHRpY2tzVG9TZWNvbmRzKHRpY2tzOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdC8vIGZpbmQgdGhlIHJlbGV2YW50IHBvc2l0aW9uXG5cdFx0Y29uc3QgaW5kZXggPSBzZWFyY2godGhpcy50ZW1wb3MsIHRpY2tzKTtcblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRjb25zdCB0ZW1wbyA9IHRoaXMudGVtcG9zW2luZGV4XTtcblx0XHRcdGNvbnN0IHRlbXBvVGltZSA9IHRlbXBvLnRpbWU7XG5cdFx0XHRjb25zdCBlbGFwc2VkQmVhdHMgPSAodGlja3MgLSB0ZW1wby50aWNrcykgLyB0aGlzLnBwcTtcblx0XHRcdHJldHVybiB0ZW1wb1RpbWUgKyAoNjAgLyB0ZW1wby5icG0pICogZWxhcHNlZEJlYXRzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBhc3N1bWUgMTIwXG5cdFx0XHRjb25zdCBiZWF0cyA9ICh0aWNrcyAvIHRoaXMucHBxKTtcblx0XHRcdHJldHVybiAoNjAgLyAxMjApICogYmVhdHM7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnQgdGlja3MgaW50byBtZWFzdXJlcyBiYXNlZCBvZmYgb2YgdGhlIHRpbWUgc2lnbmF0dXJlc1xuXHQgKi9cblx0dGlja3NUb01lYXN1cmVzKHRpY2tzOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdGNvbnN0IGluZGV4ID0gc2VhcmNoKHRoaXMudGltZVNpZ25hdHVyZXMsIHRpY2tzKTtcblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRjb25zdCB0aW1lU2lnRXZlbnQgPSB0aGlzLnRpbWVTaWduYXR1cmVzW2luZGV4XTtcblx0XHRcdGNvbnN0IGVsYXBzZWRCZWF0cyA9ICh0aWNrcyAtIHRpbWVTaWdFdmVudC50aWNrcykgLyB0aGlzLnBwcTtcblx0XHRcdHJldHVybiB0aW1lU2lnRXZlbnQubWVhc3VyZXMgKyBlbGFwc2VkQmVhdHMgLyAodGltZVNpZ0V2ZW50LnRpbWVTaWduYXR1cmVbMF0gLyB0aW1lU2lnRXZlbnQudGltZVNpZ25hdHVyZVsxXSkgLyA0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gKHRpY2tzIC8gdGhpcy5wcHEpIC8gNDtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVGhlIG51bWJlciBvZiB0aWNrcyBwZXIgcXVhcnRlciBub3RlXG5cdCAqL1xuXHRnZXQgcHBxKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHByaXZhdGVQUFFNYXAuZ2V0KHRoaXMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnQgc2Vjb25kcyB0byB0aWNrcyBiYXNlZCBvbiB0aGUgdGVtcG8gZXZlbnRzXG5cdCAqL1xuXHRzZWNvbmRzVG9UaWNrcyhzZWNvbmRzOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdC8vIGZpbmQgdGhlIHJlbGV2YW50IHBvc2l0aW9uXG5cdFx0Y29uc3QgaW5kZXggPSBzZWFyY2godGhpcy50ZW1wb3MsIHNlY29uZHMsIFwidGltZVwiKTtcblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRjb25zdCB0ZW1wbyA9IHRoaXMudGVtcG9zW2luZGV4XTtcblx0XHRcdGNvbnN0IHRlbXBvVGltZSA9IHRlbXBvLnRpbWU7XG5cdFx0XHRjb25zdCBlbGFwc2VkVGltZSA9IChzZWNvbmRzIC0gdGVtcG9UaW1lKTtcblx0XHRcdGNvbnN0IGVsYXBzZWRCZWF0cyA9IGVsYXBzZWRUaW1lIC8gKDYwIC8gdGVtcG8uYnBtKTtcblx0XHRcdHJldHVybiBNYXRoLnJvdW5kKHRlbXBvLnRpY2tzICsgZWxhcHNlZEJlYXRzICogdGhpcy5wcHEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBhc3N1bWUgMTIwXG5cdFx0XHRjb25zdCBiZWF0cyA9IHNlY29uZHMgLyAoNjAgLyAxMjApO1xuXHRcdFx0cmV0dXJuIE1hdGgucm91bmQoYmVhdHMgKiB0aGlzLnBwcSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnQgdGhlIGhlYWRlciBpbnRvIGFuIG9iamVjdC5cblx0ICovXG5cdHRvSlNPTigpOiBIZWFkZXJKU09OIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0a2V5U2lnbmF0dXJlcyA6IHRoaXMua2V5U2lnbmF0dXJlcyxcblx0XHRcdG1ldGEgOiB0aGlzLm1ldGEsXG5cdFx0XHRuYW1lIDogdGhpcy5uYW1lLFxuXHRcdFx0cHBxIDogdGhpcy5wcHEsXG5cdFx0XHR0ZW1wb3MgOiB0aGlzLnRlbXBvcy5tYXAodCA9PiB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0YnBtIDogdC5icG0sXG5cdFx0XHRcdFx0dGlja3MgOiB0LnRpY2tzLFxuXHRcdFx0XHR9O1xuXHRcdFx0fSksXG5cdFx0XHR0aW1lU2lnbmF0dXJlcyA6IHRoaXMudGltZVNpZ25hdHVyZXMsXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBwYXJzZSBhIGhlYWRlciBqc29uIG9iamVjdC5cblx0ICovXG5cdGZyb21KU09OKGpzb246IEhlYWRlckpTT04pOiB2b2lkIHtcblx0XHR0aGlzLm5hbWUgPSBqc29uLm5hbWU7XG5cdFx0Ly8gY2xvbmUgYWxsIHRoZSBhdHRyaWJ1dGVzXG5cdFx0dGhpcy50ZW1wb3MgPSBqc29uLnRlbXBvcy5tYXAodCA9PiBPYmplY3QuYXNzaWduKHt9LCB0KSk7XG5cdFx0dGhpcy50aW1lU2lnbmF0dXJlcyA9IGpzb24udGltZVNpZ25hdHVyZXMubWFwKHQgPT4gT2JqZWN0LmFzc2lnbih7fSwgdCkpO1xuXHRcdHRoaXMua2V5U2lnbmF0dXJlcyA9IGpzb24ua2V5U2lnbmF0dXJlcy5tYXAodCA9PiBPYmplY3QuYXNzaWduKHt9LCB0KSk7XG5cdFx0dGhpcy5tZXRhID0ganNvbi5tZXRhLm1hcCh0ID0+IE9iamVjdC5hc3NpZ24oe30sIHQpKTtcblx0XHRwcml2YXRlUFBRTWFwLnNldCh0aGlzLCBqc29uLnBwcSk7XG5cdFx0dGhpcy51cGRhdGUoKTtcblx0fVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWRlckpTT04ge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHBwcTogbnVtYmVyO1xuXHRtZXRhOiBNZXRhRXZlbnRbXTtcblx0dGVtcG9zOiBUZW1wb0V2ZW50W107XG5cdHRpbWVTaWduYXR1cmVzOiBUaW1lU2lnbmF0dXJlRXZlbnRbXTtcblx0a2V5U2lnbmF0dXJlczogS2V5U2lnbmF0dXJlRXZlbnRbXTtcbn1cbiIsIi8qKlxuICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCBhdCBvciBiZWZvcmUgdGhlIGdpdmVuIHByb3BlcnR5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2goYXJyYXk6IGFueVtdLCB2YWx1ZTogYW55LCBwcm9wPSBcInRpY2tzXCIpOiBudW1iZXIge1xuXHRsZXQgYmVnaW5uaW5nID0gMDtcblx0Y29uc3QgbGVuID0gYXJyYXkubGVuZ3RoO1xuXHRsZXQgZW5kID0gbGVuO1xuXHRpZiAobGVuID4gMCAmJiBhcnJheVtsZW4gLSAxXVtwcm9wXSA8PSB2YWx1ZSkge1xuXHRcdHJldHVybiBsZW4gLSAxO1xuXHR9XG5cdHdoaWxlIChiZWdpbm5pbmcgPCBlbmQpIHtcblx0XHQvLyBjYWxjdWxhdGUgdGhlIG1pZHBvaW50IGZvciByb3VnaGx5IGVxdWFsIHBhcnRpdGlvblxuXHRcdGxldCBtaWRQb2ludCA9IE1hdGguZmxvb3IoYmVnaW5uaW5nICsgKGVuZCAtIGJlZ2lubmluZykgLyAyKTtcblx0XHRjb25zdCBldmVudCA9IGFycmF5W21pZFBvaW50XTtcblx0XHRjb25zdCBuZXh0RXZlbnQgPSBhcnJheVttaWRQb2ludCArIDFdO1xuXHRcdGlmIChldmVudFtwcm9wXSA9PT0gdmFsdWUpIHtcblx0XHRcdC8vIGNob29zZSB0aGUgbGFzdCBvbmUgdGhhdCBoYXMgdGhlIHNhbWUgdmFsdWVcblx0XHRcdGZvciAobGV0IGkgPSBtaWRQb2ludDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGNvbnN0IHRlc3RFdmVudCA9IGFycmF5W2ldO1xuXHRcdFx0XHRpZiAodGVzdEV2ZW50W3Byb3BdID09PSB2YWx1ZSkge1xuXHRcdFx0XHRcdG1pZFBvaW50ID0gaTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1pZFBvaW50O1xuXHRcdH0gZWxzZSBpZiAoZXZlbnRbcHJvcF0gPCB2YWx1ZSAmJiBuZXh0RXZlbnRbcHJvcF0gPiB2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIG1pZFBvaW50O1xuXHRcdH0gZWxzZSBpZiAoZXZlbnRbcHJvcF0gPiB2YWx1ZSkge1xuXHRcdFx0Ly8gc2VhcmNoIGxvd2VyXG5cdFx0XHRlbmQgPSBtaWRQb2ludDtcblx0XHR9IGVsc2UgaWYgKGV2ZW50W3Byb3BdIDwgdmFsdWUpIHtcblx0XHRcdC8vIHNlYXJjaCB1cHBlclxuXHRcdFx0YmVnaW5uaW5nID0gbWlkUG9pbnQgKyAxO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKlxuICogRG9lcyBhIGJpbmFyeSBzZWFyY2ggdG8gaW5zZXJ0IHRoZSBub3RlXG4gKiBpbiB0aGUgY29ycmVjdCBzcG90IGluIHRoZSBhcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0KGFycmF5OiBhbnlbXSwgZXZlbnQ6IG9iamVjdCwgcHJvcDogc3RyaW5nID0gXCJ0aWNrc1wiKTogdm9pZCB7XG5cdGlmIChhcnJheS5sZW5ndGgpIHtcblx0XHRjb25zdCBpbmRleCA9IHNlYXJjaChhcnJheSwgZXZlbnRbcHJvcF0sIHByb3ApO1xuXHRcdGFycmF5LnNwbGljZShpbmRleCArIDEsIDAsIGV2ZW50KTtcblx0fSBlbHNlIHtcblx0XHRhcnJheS5wdXNoKGV2ZW50KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSBcIi4vSGVhZGVyXCI7XG5cbmV4cG9ydCB0eXBlIENvbnRyb2xDaGFuZ2VOYW1lID0gIFwibW9kdWxhdGlvbldoZWVsXCIgfCBcImJyZWF0aFwiIHwgXCJmb290Q29udHJvbGxlclwiIHwgXCJwb3J0YW1lbnRvVGltZVwiXG5cdHwgXCJ2b2x1bWVcIiB8IFwiYmFsYW5jZVwiIHwgXCJwYW5cIiB8IFwic3VzdGFpblwiIHwgXCJwb3J0YW1lbnRvVGltZVwiIHwgXCJzb3N0ZW51dG9cIiB8IFwic29mdFBlZGFsXCJcblx0fCBcImxlZ2F0b0Zvb3Rzd2l0Y2hcIiB8IFwicG9ydGFtZW50b0NvbnRyb2xcIjtcblxuaW50ZXJmYWNlIENvbnRyb2xDaGFuZ2VNYXAge1xuXHRba2V5OiBudW1iZXJdOiBDb250cm9sQ2hhbmdlTmFtZTtcbn1cbi8qKlxuICogQSBtYXAgb2YgdmFsdWVzIHRvIGNvbnRyb2wgY2hhbmdlIG5hbWVzXG4gKi9cbmV4cG9ydCBjb25zdCBjb250cm9sQ2hhbmdlTmFtZXM6IENvbnRyb2xDaGFuZ2VNYXAgPSB7XG5cdDEgOiBcIm1vZHVsYXRpb25XaGVlbFwiLFxuXHQyIDogXCJicmVhdGhcIixcblx0NCA6IFwiZm9vdENvbnRyb2xsZXJcIixcblx0NSA6IFwicG9ydGFtZW50b1RpbWVcIixcblx0NyA6IFwidm9sdW1lXCIsXG5cdDggOiBcImJhbGFuY2VcIixcblx0MTAgOiBcInBhblwiLFxuXHQ2NCA6IFwic3VzdGFpblwiLFxuXHQ2NSA6IFwicG9ydGFtZW50b1RpbWVcIixcblx0NjYgOiBcInNvc3RlbnV0b1wiLFxuXHQ2NyA6IFwic29mdFBlZGFsXCIsXG5cdDY4IDogXCJsZWdhdG9Gb290c3dpdGNoXCIsXG5cdDg0IDogXCJwb3J0YW1lbnRvQ29udHJvbFwiLFxufTtcblxuLy8gc3dhcCB0aGUga2V5cyBhbmQgdmFsdWVzXG5leHBvcnQgY29uc3QgY29udHJvbENoYW5nZUlkcyA9IE9iamVjdC5rZXlzKGNvbnRyb2xDaGFuZ2VOYW1lcykucmVkdWNlKChvYmosIGtleSkgPT4ge1xuXHRvYmpbY29udHJvbENoYW5nZU5hbWVzW2tleV1dID0ga2V5O1xuXHRyZXR1cm4gb2JqO1xufSwge30pO1xuXG5jb25zdCBwcml2YXRlSGVhZGVyTWFwID0gbmV3IFdlYWtNYXA8Q29udHJvbENoYW5nZSwgSGVhZGVyPigpO1xuY29uc3QgcHJpdmF0ZUNDTnVtYmVyTWFwID0gbmV3IFdlYWtNYXA8Q29udHJvbENoYW5nZSwgbnVtYmVyPigpO1xuXG4vKipcbiAqIEB0eXBlZGVmIENvbnRyb2xDaGFuZ2VFdmVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvbnRyb2xsZXJUeXBlXG4gKiBAcHJvcGVydHkge251bWJlcj19IHZhbHVlXG4gKiBAcHJvcGVydHkge251bWJlcj19IGFic29sdXRlVGltZVxuICovXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbnRyb2wgY2hhbmdlIGV2ZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBDb250cm9sQ2hhbmdlIGltcGxlbWVudHMgQ29udHJvbENoYW5nZUludGVyZmFjZSB7XG5cblx0LyoqXG5cdCAqIFRoZSBudW1iZXIgdmFsdWUgb2YgdGhlIGV2ZW50XG5cdCAqL1xuXHR2YWx1ZTogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgdGljayB0aW1lIG9mIHRoZSBldmVudFxuXHQgKi9cblx0dGlja3M6IG51bWJlcjtcblxuXHQvKipcblx0ICogQHBhcmFtIHtDb250cm9sQ2hhbmdlRXZlbnR9IGV2ZW50XG5cdCAqIEBwYXJhbSB7SGVhZGVyfSBoZWFkZXJcblx0ICovXG5cdGNvbnN0cnVjdG9yKGV2ZW50LCBoZWFkZXI6IEhlYWRlcikge1xuXHRcdHByaXZhdGVIZWFkZXJNYXAuc2V0KHRoaXMsIGhlYWRlcik7XG5cdFx0cHJpdmF0ZUNDTnVtYmVyTWFwLnNldCh0aGlzLCBldmVudC5jb250cm9sbGVyVHlwZSk7XG5cblx0XHR0aGlzLnRpY2tzID0gZXZlbnQuYWJzb2x1dGVUaW1lO1xuXHRcdHRoaXMudmFsdWUgPSBldmVudC52YWx1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgY29udHJvbGxlciBudW1iZXJcblx0ICogQHJlYWRvbmx5XG5cdCAqL1xuXHRnZXQgbnVtYmVyKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHByaXZhdGVDQ051bWJlck1hcC5nZXQodGhpcyk7XG5cdH1cblxuXHQvKipcblx0ICogcmV0dXJuIHRoZSBjb21tb24gbmFtZSBvZiB0aGUgY29udHJvbCBudW1iZXIgaWYgaXQgZXhpc3RzXG5cdCAqL1xuXHRnZXQgbmFtZSgpOiBDb250cm9sQ2hhbmdlTmFtZSB7XG5cdFx0aWYgKGNvbnRyb2xDaGFuZ2VOYW1lc1t0aGlzLm51bWJlcl0pIHtcblx0XHRcdHJldHVybiBjb250cm9sQ2hhbmdlTmFtZXNbdGhpcy5udW1iZXJdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVGhlIHRpbWUgb2YgdGhlIGV2ZW50IGluIHNlY29uZHNcblx0ICovXG5cdGdldCB0aW1lKCk6IG51bWJlciB7XG5cdFx0Y29uc3QgaGVhZGVyID0gcHJpdmF0ZUhlYWRlck1hcC5nZXQodGhpcyk7XG5cdFx0cmV0dXJuIGhlYWRlci50aWNrc1RvU2Vjb25kcyh0aGlzLnRpY2tzKTtcblx0fVxuXG5cdHNldCB0aW1lKHQ6IG51bWJlcikge1xuXHRcdGNvbnN0IGhlYWRlciA9IHByaXZhdGVIZWFkZXJNYXAuZ2V0KHRoaXMpO1xuXHRcdHRoaXMudGlja3MgPSBoZWFkZXIuc2Vjb25kc1RvVGlja3ModCk7XG5cdH1cblxuXHR0b0pTT04oKTogQ29udHJvbENoYW5nZUpTT04ge1xuXHRcdHJldHVybiB7XG5cdFx0XHRudW1iZXIgOiB0aGlzLm51bWJlcixcblx0XHRcdHRpY2tzIDogdGhpcy50aWNrcyxcblx0XHRcdHRpbWUgOiB0aGlzLnRpbWUsXG5cdFx0XHR2YWx1ZSA6IHRoaXMudmFsdWUsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRyb2xDaGFuZ2VKU09OIHtcblx0bnVtYmVyOiBudW1iZXI7XG5cdHRpY2tzOiBudW1iZXI7XG5cdHRpbWU6IG51bWJlcjtcblx0dmFsdWU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb250cm9sQ2hhbmdlSW50ZXJmYWNlIHtcblx0bnVtYmVyOiBudW1iZXI7XG5cdHRpY2tzOiBudW1iZXI7XG5cdHRpbWU6IG51bWJlcjtcblx0dmFsdWU6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IHBhcnNlTWlkaSB9IGZyb20gXCJtaWRpLWZpbGVcIjtcbmltcG9ydCB7IGVuY29kZSB9IGZyb20gXCIuL0VuY29kZVwiO1xuaW1wb3J0IHsgSGVhZGVyLCBIZWFkZXJKU09OIH0gZnJvbSBcIi4vSGVhZGVyXCI7XG5pbXBvcnQgeyBUcmFjaywgVHJhY2tKU09OIH0gZnJvbSBcIi4vVHJhY2tcIjtcblxuLyoqXG4gKiBUaGUgbWFpbiBtaWRpIHBhcnNpbmcgY2xhc3NcbiAqL1xuZXhwb3J0IGNsYXNzIE1pZGkge1xuXG5cdC8qKlxuXHQgKiBEb3dubG9hZCBhbmQgcGFyc2UgdGhlIE1JREkgZmlsZS4gUmV0dXJucyBhIHByb21pc2Vcblx0ICogd2hpY2ggcmVzb2x2ZXMgdG8gdGhlIGdlbmVyYXRlZCBtaWRpIGZpbGVcblx0ICogQHBhcmFtIHVybCBUaGUgdXJsIHRvIGZldGNoXG5cdCAqL1xuXHRzdGF0aWMgYXN5bmMgZnJvbVVybCh1cmw6IHN0cmluZyk6IFByb21pc2U8TWlkaT4ge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcblx0XHRpZiAocmVzcG9uc2Uub2spIHtcblx0XHRcdGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcblx0XHRcdHJldHVybiBuZXcgTWlkaShhcnJheUJ1ZmZlcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgY291bGQgbm90IGxvYWQgJHt1cmx9YCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBoZWFkZXIgaW5mb3JtYXRpb24sIGluY2x1ZGVzIHRoaW5ncyBsaWtlIHRlbXBvIGFuZCBtZXRhIGV2ZW50cy5cblx0ICovXG5cdGhlYWRlcjogSGVhZGVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgbWlkaSB0cmFja3MuXG5cdCAqL1xuXHR0cmFja3M6IFRyYWNrW107XG5cblx0LyoqXG5cdCAqIFBhcnNlIHRoZSBtaWRpIGRhdGFcblx0ICovXG5cdGNvbnN0cnVjdG9yKG1pZGlBcnJheT86IChBcnJheUxpa2U8bnVtYmVyPiB8IEFycmF5QnVmZmVyKSkge1xuXG5cdFx0Ly8gcGFyc2UgdGhlIG1pZGkgZGF0YSBpZiB0aGVyZSBpcyBhbnlcblx0XHRsZXQgbWlkaURhdGEgPSBudWxsO1xuXHRcdGlmIChtaWRpQXJyYXkpIHtcblx0XHRcdGlmIChtaWRpQXJyYXkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuXHRcdFx0XHRtaWRpQXJyYXkgPSBuZXcgVWludDhBcnJheShtaWRpQXJyYXkpO1xuXHRcdFx0fVxuXHRcdFx0bWlkaURhdGEgPSBwYXJzZU1pZGkobWlkaUFycmF5KTtcblxuXHRcdFx0Ly8gYWRkIHRoZSBhYnNvbHV0ZSB0aW1lcyB0byBlYWNoIG9mIHRoZSB0cmFja3Ncblx0XHRcdG1pZGlEYXRhLnRyYWNrcy5mb3JFYWNoKHRyYWNrID0+IHtcblx0XHRcdFx0bGV0IGN1cnJlbnRUaWNrcyA9IDA7XG5cdFx0XHRcdHRyYWNrLmZvckVhY2goZXZlbnQgPT4ge1xuXHRcdFx0XHRcdGN1cnJlbnRUaWNrcyArPSBldmVudC5kZWx0YVRpbWU7XG5cdFx0XHRcdFx0ZXZlbnQuYWJzb2x1dGVUaW1lID0gY3VycmVudFRpY2tzO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuaGVhZGVyID0gbmV3IEhlYWRlcihtaWRpRGF0YSk7XG5cdFx0dGhpcy50cmFja3MgPSBbXTtcblxuXHRcdC8vIHBhcnNlIHRoZSBtaWRpIGRhdGFcblx0XHRpZiAobWlkaUFycmF5KSB7XG5cdFx0XHQvLyBmb3JtYXQgMCwgZXZlcnl0aGluZyBpcyBvbiB0aGUgc2FtZSB0cmFja1xuXHRcdFx0dGhpcy50cmFja3MgPSBtaWRpRGF0YS50cmFja3MubWFwKHRyYWNrRGF0YSA9PiBuZXcgVHJhY2sodHJhY2tEYXRhLCB0aGlzLmhlYWRlcikpO1xuXG5cdFx0XHQvLyBpZiBpdCdzIGZvcm1hdCAxIGFuZCB0aGVyZSBhcmUgbm8gbm90ZXMgb24gdGhlIGZpcnN0IHRyYWNrLCByZW1vdmUgaXRcblx0XHRcdGlmIChtaWRpRGF0YS5oZWFkZXIuZm9ybWF0ID09PSAxICYmIHRoaXMudHJhY2tzWzBdLmR1cmF0aW9uID09PSAwKSB7XG5cdFx0XHRcdHRoaXMudHJhY2tzLnNoaWZ0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBuYW1lIG9mIHRoZSBtaWRpIGZpbGUsIHRha2VuIGZyb20gdGhlIGZpcnN0IHRyYWNrXG5cdCAqL1xuXHRnZXQgbmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLmhlYWRlci5uYW1lO1xuXHR9XG5cblx0c2V0IG5hbWUobjogc3RyaW5nKSB7XG5cdFx0dGhpcy5oZWFkZXIubmFtZSA9IG47XG5cdH1cblxuXHQvKipcblx0ICogVGhlIHRvdGFsIGxlbmd0aCBvZiB0aGUgZmlsZSBpbiBzZWNvbmRzXG5cdCAqL1xuXHRnZXQgZHVyYXRpb24oKTogbnVtYmVyIHtcblx0XHQvLyBnZXQgdGhlIG1heCBvZiB0aGUgbGFzdCBub3RlIG9mIGFsbCB0aGUgdHJhY2tzXG5cdFx0Y29uc3QgZHVyYXRpb25zID0gdGhpcy50cmFja3MubWFwKHQgPT4gdC5kdXJhdGlvbik7XG5cdFx0cmV0dXJuIE1hdGgubWF4KC4uLmR1cmF0aW9ucyk7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIHRvdGFsIGxlbmd0aCBvZiB0aGUgZmlsZSBpbiB0aWNrc1xuXHQgKi9cblx0Z2V0IGR1cmF0aW9uVGlja3MoKTogbnVtYmVyIHtcblx0XHQvLyBnZXQgdGhlIG1heCBvZiB0aGUgbGFzdCBub3RlIG9mIGFsbCB0aGUgdHJhY2tzXG5cdFx0Y29uc3QgZHVyYXRpb25UaWNrcyA9IHRoaXMudHJhY2tzLm1hcCh0ID0+IHQuZHVyYXRpb25UaWNrcyk7XG5cdFx0cmV0dXJuIE1hdGgubWF4KC4uLmR1cmF0aW9uVGlja3MpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZCBhIHRyYWNrIHRvIHRoZSBtaWRpIGZpbGVcblx0ICovXG5cdGFkZFRyYWNrKCk6IFRyYWNrIHtcblx0XHRjb25zdCB0cmFjayA9IG5ldyBUcmFjayh1bmRlZmluZWQsIHRoaXMuaGVhZGVyKTtcblx0XHR0aGlzLnRyYWNrcy5wdXNoKHRyYWNrKTtcblx0XHRyZXR1cm4gdHJhY2s7XG5cdH1cblxuXHQvKipcblx0ICogRW5jb2RlIHRoZSBtaWRpIGFzIGEgVWludDhBcnJheS5cblx0ICovXG5cdHRvQXJyYXkoKTogVWludDhBcnJheSB7XG5cdFx0cmV0dXJuIGVuY29kZSh0aGlzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0IHRoZSBtaWRpIG9iamVjdCB0byBKU09OLlxuXHQgKi9cblx0dG9KU09OKCk6IE1pZGlKU09OIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVhZGVyIDogdGhpcy5oZWFkZXIudG9KU09OKCksXG5cdFx0XHR0cmFja3MgOiB0aGlzLnRyYWNrcy5tYXAodHJhY2sgPT4gdHJhY2sudG9KU09OKCkpLFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogUGFyc2UgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QuIFdpbGwgb3ZlcndyaXRlIHRoZSBjdXJyZW50XG5cdCAqIHRyYWNrcyBhbmQgaGVhZGVyLlxuXHQgKi9cblx0ZnJvbUpTT04oanNvbjogTWlkaUpTT04pOiB2b2lkIHtcblx0XHR0aGlzLmhlYWRlciA9IG5ldyBIZWFkZXIoKTtcblx0XHR0aGlzLmhlYWRlci5mcm9tSlNPTihqc29uLmhlYWRlcik7XG5cdFx0dGhpcy50cmFja3MgPSBqc29uLnRyYWNrcy5tYXAodHJhY2tKU09OID0+IHtcblx0XHRcdGNvbnN0IHRyYWNrID0gbmV3IFRyYWNrKHVuZGVmaW5lZCwgdGhpcy5oZWFkZXIpO1xuXHRcdFx0dHJhY2suZnJvbUpTT04odHJhY2tKU09OKTtcblx0XHRcdHJldHVybiB0cmFjaztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDbG9uZSB0aGUgZW50aXJlIG9iamVjdCBtaWRpIG9iamVjdFxuXHQgKi9cblx0Y2xvbmUoKTogTWlkaSB7XG5cdFx0Y29uc3QgbWlkaSA9IG5ldyBNaWRpKCk7XG5cdFx0bWlkaS5mcm9tSlNPTih0aGlzLnRvSlNPTigpKTtcblx0XHRyZXR1cm4gbWlkaTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBNSURJIGRhdGEgaW4gSlNPTiBmb3JtYXRcbiAqL1xuaW50ZXJmYWNlIE1pZGlKU09OIHtcblx0aGVhZGVyOiBIZWFkZXJKU09OO1xuXHR0cmFja3M6IFRyYWNrSlNPTltdO1xufVxuIiwiLy8gZGF0YSBjYW4gYmUgYW55IGFycmF5LWxpa2Ugb2JqZWN0LiAgSXQganVzdCBuZWVkcyB0byBzdXBwb3J0IC5sZW5ndGgsIC5zbGljZSwgYW5kIGFuIGVsZW1lbnQgZ2V0dGVyIFtdXG5cbmZ1bmN0aW9uIHBhcnNlTWlkaShkYXRhKSB7XG4gIHZhciBwID0gbmV3IFBhcnNlcihkYXRhKVxuXG4gIHZhciBoZWFkZXJDaHVuayA9IHAucmVhZENodW5rKClcbiAgaWYgKGhlYWRlckNodW5rLmlkICE9ICdNVGhkJylcbiAgICB0aHJvdyBcIkJhZCBNSURJIGZpbGUuICBFeHBlY3RlZCAnTUhkcicsIGdvdDogJ1wiICsgaGVhZGVyQ2h1bmsuaWQgKyBcIidcIlxuICB2YXIgaGVhZGVyID0gcGFyc2VIZWFkZXIoaGVhZGVyQ2h1bmsuZGF0YSlcblxuICB2YXIgdHJhY2tzID0gW11cbiAgZm9yICh2YXIgaT0wOyAhcC5lb2YoKSAmJiBpIDwgaGVhZGVyLm51bVRyYWNrczsgaSsrKSB7XG4gICAgdmFyIHRyYWNrQ2h1bmsgPSBwLnJlYWRDaHVuaygpXG4gICAgaWYgKHRyYWNrQ2h1bmsuaWQgIT0gJ01UcmsnKVxuICAgICAgdGhyb3cgXCJCYWQgTUlESSBmaWxlLiAgRXhwZWN0ZWQgJ01UcmsnLCBnb3Q6ICdcIiArIHRyYWNrQ2h1bmsuaWQgKyBcIidcIlxuICAgIHZhciB0cmFjayA9IHBhcnNlVHJhY2sodHJhY2tDaHVuay5kYXRhKVxuICAgIHRyYWNrcy5wdXNoKHRyYWNrKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoZWFkZXI6IGhlYWRlcixcbiAgICB0cmFja3M6IHRyYWNrc1xuICB9XG59XG5cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXIoZGF0YSkge1xuICB2YXIgcCA9IG5ldyBQYXJzZXIoZGF0YSlcblxuICB2YXIgZm9ybWF0ID0gcC5yZWFkVUludDE2KClcbiAgdmFyIG51bVRyYWNrcyA9IHAucmVhZFVJbnQxNigpXG5cbiAgdmFyIHJlc3VsdCA9IHtcbiAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICBudW1UcmFja3M6IG51bVRyYWNrc1xuICB9XG5cbiAgdmFyIHRpbWVEaXZpc2lvbiA9IHAucmVhZFVJbnQxNigpXG4gIGlmICh0aW1lRGl2aXNpb24gJiAweDgwMDApIHtcbiAgICByZXN1bHQuZnJhbWVzUGVyU2Vjb25kID0gMHgxMDAgLSAodGltZURpdmlzaW9uID4+IDgpXG4gICAgcmVzdWx0LnRpY2tzUGVyRnJhbWUgPSB0aW1lRGl2aXNpb24gJiAweEZGXG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnRpY2tzUGVyQmVhdCA9IHRpbWVEaXZpc2lvblxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBwYXJzZVRyYWNrKGRhdGEpIHtcbiAgdmFyIHAgPSBuZXcgUGFyc2VyKGRhdGEpXG5cbiAgdmFyIGV2ZW50cyA9IFtdXG4gIHdoaWxlICghcC5lb2YoKSkge1xuICAgIHZhciBldmVudCA9IHJlYWRFdmVudCgpXG4gICAgZXZlbnRzLnB1c2goZXZlbnQpXG4gIH1cblxuICByZXR1cm4gZXZlbnRzXG5cbiAgdmFyIGxhc3RFdmVudFR5cGVCeXRlID0gbnVsbFxuXG4gIGZ1bmN0aW9uIHJlYWRFdmVudCgpIHtcbiAgICB2YXIgZXZlbnQgPSB7fVxuICAgIGV2ZW50LmRlbHRhVGltZSA9IHAucmVhZFZhckludCgpXG5cbiAgICB2YXIgZXZlbnRUeXBlQnl0ZSA9IHAucmVhZFVJbnQ4KClcblxuICAgIGlmICgoZXZlbnRUeXBlQnl0ZSAmIDB4ZjApID09PSAweGYwKSB7XG4gICAgICAvLyBzeXN0ZW0gLyBtZXRhIGV2ZW50XG4gICAgICBpZiAoZXZlbnRUeXBlQnl0ZSA9PT0gMHhmZikge1xuICAgICAgICAvLyBtZXRhIGV2ZW50XG4gICAgICAgIGV2ZW50Lm1ldGEgPSB0cnVlXG4gICAgICAgIHZhciBtZXRhdHlwZUJ5dGUgPSBwLnJlYWRVSW50OCgpXG4gICAgICAgIHZhciBsZW5ndGggPSBwLnJlYWRWYXJJbnQoKVxuICAgICAgICBzd2l0Y2ggKG1ldGF0eXBlQnl0ZSkge1xuICAgICAgICAgIGNhc2UgMHgwMDpcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnc2VxdWVuY2VOdW1iZXInXG4gICAgICAgICAgICBpZiAobGVuZ3RoICE9PSAyKSB0aHJvdyBcIkV4cGVjdGVkIGxlbmd0aCBmb3Igc2VxdWVuY2VOdW1iZXIgZXZlbnQgaXMgMiwgZ290IFwiICsgbGVuZ3RoXG4gICAgICAgICAgICBldmVudC5udW1iZXIgPSBzdHJlYW0ucmVhZFVJbnQxNigpXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRcbiAgICAgICAgICBjYXNlIDB4MDE6XG4gICAgICAgICAgICBldmVudC50eXBlID0gJ3RleHQnXG4gICAgICAgICAgICBldmVudC50ZXh0ID0gcC5yZWFkU3RyaW5nKGxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBldmVudFxuICAgICAgICAgIGNhc2UgMHgwMjpcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnY29weXJpZ2h0Tm90aWNlJ1xuICAgICAgICAgICAgZXZlbnQudGV4dCA9IHAucmVhZFN0cmluZyhsZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRcbiAgICAgICAgICBjYXNlIDB4MDM6XG4gICAgICAgICAgICBldmVudC50eXBlID0gJ3RyYWNrTmFtZSdcbiAgICAgICAgICAgIGV2ZW50LnRleHQgPSBwLnJlYWRTdHJpbmcobGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICAgICAgY2FzZSAweDA0OlxuICAgICAgICAgICAgZXZlbnQudHlwZSA9ICdpbnN0cnVtZW50TmFtZSdcbiAgICAgICAgICAgIGV2ZW50LnRleHQgPSBwLnJlYWRTdHJpbmcobGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICAgICAgY2FzZSAweDA1OlxuICAgICAgICAgICAgZXZlbnQudHlwZSA9ICdseXJpY3MnXG4gICAgICAgICAgICBldmVudC50ZXh0ID0gcC5yZWFkU3RyaW5nKGxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBldmVudFxuICAgICAgICAgIGNhc2UgMHgwNjpcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnbWFya2VyJ1xuICAgICAgICAgICAgZXZlbnQudGV4dCA9IHAucmVhZFN0cmluZyhsZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRcbiAgICAgICAgICBjYXNlIDB4MDc6XG4gICAgICAgICAgICBldmVudC50eXBlID0gJ2N1ZVBvaW50J1xuICAgICAgICAgICAgZXZlbnQudGV4dCA9IHAucmVhZFN0cmluZyhsZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRcbiAgICAgICAgICBjYXNlIDB4MjA6XG4gICAgICAgICAgICBldmVudC50eXBlID0gJ2NoYW5uZWxQcmVmaXgnXG4gICAgICAgICAgICBpZiAobGVuZ3RoICE9IDEpIHRocm93IFwiRXhwZWN0ZWQgbGVuZ3RoIGZvciBjaGFubmVsUHJlZml4IGV2ZW50IGlzIDEsIGdvdCBcIiArIGxlbmd0aFxuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbCA9IHAucmVhZFVJbnQ4KClcbiAgICAgICAgICAgIHJldHVybiBldmVudFxuICAgICAgICAgIGNhc2UgMHgyMTpcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAncG9ydFByZWZpeCdcbiAgICAgICAgICAgIGlmIChsZW5ndGggIT0gMSkgdGhyb3cgXCJFeHBlY3RlZCBsZW5ndGggZm9yIHBvcnRQcmVmaXggZXZlbnQgaXMgMSwgZ290IFwiICsgbGVuZ3RoXG4gICAgICAgICAgICBldmVudC5wb3J0ID0gcC5yZWFkVUludDgoKVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICAgICAgY2FzZSAweDJmOlxuICAgICAgICAgICAgZXZlbnQudHlwZSA9ICdlbmRPZlRyYWNrJ1xuICAgICAgICAgICAgaWYgKGxlbmd0aCAhPSAwKSB0aHJvdyBcIkV4cGVjdGVkIGxlbmd0aCBmb3IgZW5kT2ZUcmFjayBldmVudCBpcyAwLCBnb3QgXCIgKyBsZW5ndGhcbiAgICAgICAgICAgIHJldHVybiBldmVudFxuICAgICAgICAgIGNhc2UgMHg1MTpcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnc2V0VGVtcG8nO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCAhPSAzKSB0aHJvdyBcIkV4cGVjdGVkIGxlbmd0aCBmb3Igc2V0VGVtcG8gZXZlbnQgaXMgMywgZ290IFwiICsgbGVuZ3RoXG4gICAgICAgICAgICBldmVudC5taWNyb3NlY29uZHNQZXJCZWF0ID0gcC5yZWFkVUludDI0KClcbiAgICAgICAgICAgIHJldHVybiBldmVudFxuICAgICAgICAgIGNhc2UgMHg1NDpcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnc21wdGVPZmZzZXQnO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCAhPSA1KSB0aHJvdyBcIkV4cGVjdGVkIGxlbmd0aCBmb3Igc21wdGVPZmZzZXQgZXZlbnQgaXMgNSwgZ290IFwiICsgbGVuZ3RoXG4gICAgICAgICAgICB2YXIgaG91ckJ5dGUgPSBwLnJlYWRVSW50OCgpXG4gICAgICAgICAgICB2YXIgRlJBTUVfUkFURVMgPSB7IDB4MDA6IDI0LCAweDIwOiAyNSwgMHg0MDogMjksIDB4NjA6IDMwIH1cbiAgICAgICAgICAgIGV2ZW50LmZyYW1lUmF0ZSA9IEZSQU1FX1JBVEVTW2hvdXJCeXRlICYgMHg2MF1cbiAgICAgICAgICAgIGV2ZW50LmhvdXIgPSBob3VyQnl0ZSAmIDB4MWZcbiAgICAgICAgICAgIGV2ZW50Lm1pbiA9IHAucmVhZFVJbnQ4KClcbiAgICAgICAgICAgIGV2ZW50LnNlYyA9IHAucmVhZFVJbnQ4KClcbiAgICAgICAgICAgIGV2ZW50LmZyYW1lID0gcC5yZWFkVUludDgoKVxuICAgICAgICAgICAgZXZlbnQuc3ViRnJhbWUgPSBwLnJlYWRVSW50OCgpXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRcbiAgICAgICAgICBjYXNlIDB4NTg6XG4gICAgICAgICAgICBldmVudC50eXBlID0gJ3RpbWVTaWduYXR1cmUnXG4gICAgICAgICAgICBpZiAobGVuZ3RoICE9IDQpIHRocm93IFwiRXhwZWN0ZWQgbGVuZ3RoIGZvciB0aW1lU2lnbmF0dXJlIGV2ZW50IGlzIDQsIGdvdCBcIiArIGxlbmd0aFxuICAgICAgICAgICAgZXZlbnQubnVtZXJhdG9yID0gcC5yZWFkVUludDgoKVxuICAgICAgICAgICAgZXZlbnQuZGVub21pbmF0b3IgPSAoMSA8PCBwLnJlYWRVSW50OCgpKVxuICAgICAgICAgICAgZXZlbnQubWV0cm9ub21lID0gcC5yZWFkVUludDgoKVxuICAgICAgICAgICAgZXZlbnQudGhpcnR5c2Vjb25kcyA9IHAucmVhZFVJbnQ4KClcbiAgICAgICAgICAgIHJldHVybiBldmVudFxuICAgICAgICAgIGNhc2UgMHg1OTpcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAna2V5U2lnbmF0dXJlJ1xuICAgICAgICAgICAgaWYgKGxlbmd0aCAhPSAyKSB0aHJvdyBcIkV4cGVjdGVkIGxlbmd0aCBmb3Iga2V5U2lnbmF0dXJlIGV2ZW50IGlzIDIsIGdvdCBcIiArIGxlbmd0aFxuICAgICAgICAgICAgZXZlbnQua2V5ID0gcC5yZWFkSW50OCgpXG4gICAgICAgICAgICBldmVudC5zY2FsZSA9IHAucmVhZFVJbnQ4KClcbiAgICAgICAgICAgIHJldHVybiBldmVudFxuICAgICAgICAgIGNhc2UgMHg3ZjpcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnc2VxdWVuY2VyU3BlY2lmaWMnXG4gICAgICAgICAgICBldmVudC5kYXRhID0gcC5yZWFkQnl0ZXMobGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAndW5rbm93bk1ldGEnXG4gICAgICAgICAgICBldmVudC5kYXRhID0gcC5yZWFkQnl0ZXMobGVuZ3RoKVxuICAgICAgICAgICAgZXZlbnQubWV0YXR5cGVCeXRlID0gbWV0YXR5cGVCeXRlXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChldmVudFR5cGVCeXRlID09IDB4ZjApIHtcbiAgICAgICAgZXZlbnQudHlwZSA9ICdzeXNFeCdcbiAgICAgICAgdmFyIGxlbmd0aCA9IHAucmVhZFZhckludCgpXG4gICAgICAgIGV2ZW50LmRhdGEgPSBwLnJlYWRCeXRlcyhsZW5ndGgpXG4gICAgICAgIHJldHVybiBldmVudFxuICAgICAgfSBlbHNlIGlmIChldmVudFR5cGVCeXRlID09IDB4ZjcpIHtcbiAgICAgICAgZXZlbnQudHlwZSA9ICdlbmRTeXNFeCdcbiAgICAgICAgdmFyIGxlbmd0aCA9IHAucmVhZFZhckludCgpXG4gICAgICAgIGV2ZW50LmRhdGEgPSBwLnJlYWRCeXRlcyhsZW5ndGgpXG4gICAgICAgIHJldHVybiBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgXCJVbnJlY29nbmlzZWQgTUlESSBldmVudCB0eXBlIGJ5dGU6IFwiICsgZXZlbnRUeXBlQnl0ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjaGFubmVsIGV2ZW50XG4gICAgICB2YXIgcGFyYW0xXG4gICAgICBpZiAoKGV2ZW50VHlwZUJ5dGUgJiAweDgwKSA9PT0gMCkge1xuICAgICAgICAvLyBydW5uaW5nIHN0YXR1cyAtIHJldXNlIGxhc3RFdmVudFR5cGVCeXRlIGFzIHRoZSBldmVudCB0eXBlLlxuICAgICAgICAvLyBldmVudFR5cGVCeXRlIGlzIGFjdHVhbGx5IHRoZSBmaXJzdCBwYXJhbWV0ZXJcbiAgICAgICAgaWYgKGxhc3RFdmVudFR5cGVCeXRlID09PSBudWxsKVxuICAgICAgICAgIHRocm93IFwiUnVubmluZyBzdGF0dXMgYnl0ZSBlbmNvdW50ZXJlZCBiZWZvcmUgc3RhdHVzIGJ5dGVcIlxuICAgICAgICBwYXJhbTEgPSBldmVudFR5cGVCeXRlXG4gICAgICAgIGV2ZW50VHlwZUJ5dGUgPSBsYXN0RXZlbnRUeXBlQnl0ZVxuICAgICAgICBldmVudC5ydW5uaW5nID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW0xID0gcC5yZWFkVUludDgoKVxuICAgICAgICBsYXN0RXZlbnRUeXBlQnl0ZSA9IGV2ZW50VHlwZUJ5dGVcbiAgICAgIH1cbiAgICAgIHZhciBldmVudFR5cGUgPSBldmVudFR5cGVCeXRlID4+IDRcbiAgICAgIGV2ZW50LmNoYW5uZWwgPSBldmVudFR5cGVCeXRlICYgMHgwZlxuICAgICAgc3dpdGNoIChldmVudFR5cGUpIHtcbiAgICAgICAgY2FzZSAweDA4OlxuICAgICAgICAgIGV2ZW50LnR5cGUgPSAnbm90ZU9mZidcbiAgICAgICAgICBldmVudC5ub3RlTnVtYmVyID0gcGFyYW0xXG4gICAgICAgICAgZXZlbnQudmVsb2NpdHkgPSBwLnJlYWRVSW50OCgpXG4gICAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICAgIGNhc2UgMHgwOTpcbiAgICAgICAgICB2YXIgdmVsb2NpdHkgPSBwLnJlYWRVSW50OCgpXG4gICAgICAgICAgZXZlbnQudHlwZSA9IHZlbG9jaXR5ID09PSAwID8gJ25vdGVPZmYnIDogJ25vdGVPbidcbiAgICAgICAgICBldmVudC5ub3RlTnVtYmVyID0gcGFyYW0xXG4gICAgICAgICAgZXZlbnQudmVsb2NpdHkgPSB2ZWxvY2l0eVxuICAgICAgICAgIGlmICh2ZWxvY2l0eSA9PT0gMCkgZXZlbnQuYnl0ZTkgPSB0cnVlXG4gICAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICAgIGNhc2UgMHgwYTpcbiAgICAgICAgICBldmVudC50eXBlID0gJ25vdGVBZnRlcnRvdWNoJ1xuICAgICAgICAgIGV2ZW50Lm5vdGVOdW1iZXIgPSBwYXJhbTFcbiAgICAgICAgICBldmVudC5hbW91bnQgPSBwLnJlYWRVSW50OCgpXG4gICAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICAgIGNhc2UgMHgwYjpcbiAgICAgICAgICBldmVudC50eXBlID0gJ2NvbnRyb2xsZXInXG4gICAgICAgICAgZXZlbnQuY29udHJvbGxlclR5cGUgPSBwYXJhbTFcbiAgICAgICAgICBldmVudC52YWx1ZSA9IHAucmVhZFVJbnQ4KClcbiAgICAgICAgICByZXR1cm4gZXZlbnRcbiAgICAgICAgY2FzZSAweDBjOlxuICAgICAgICAgIGV2ZW50LnR5cGUgPSAncHJvZ3JhbUNoYW5nZSdcbiAgICAgICAgICBldmVudC5wcm9ncmFtTnVtYmVyID0gcGFyYW0xXG4gICAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICAgIGNhc2UgMHgwZDpcbiAgICAgICAgICBldmVudC50eXBlID0gJ2NoYW5uZWxBZnRlcnRvdWNoJ1xuICAgICAgICAgIGV2ZW50LmFtb3VudCA9IHBhcmFtMVxuICAgICAgICAgIHJldHVybiBldmVudFxuICAgICAgICBjYXNlIDB4MGU6XG4gICAgICAgICAgZXZlbnQudHlwZSA9ICdwaXRjaEJlbmQnXG4gICAgICAgICAgZXZlbnQudmFsdWUgPSAocGFyYW0xICsgKHAucmVhZFVJbnQ4KCkgPDwgNykpIC0gMHgyMDAwXG4gICAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgXCJVbnJlY29nbmlzZWQgTUlESSBldmVudCB0eXBlOiBcIiArIGV2ZW50VHlwZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBQYXJzZXIoZGF0YSkge1xuICB0aGlzLmJ1ZmZlciA9IGRhdGFcbiAgdGhpcy5idWZmZXJMZW4gPSB0aGlzLmJ1ZmZlci5sZW5ndGhcbiAgdGhpcy5wb3MgPSAwXG59XG5cblBhcnNlci5wcm90b3R5cGUuZW9mID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnBvcyA+PSB0aGlzLmJ1ZmZlckxlblxufVxuXG5QYXJzZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5idWZmZXJbdGhpcy5wb3NdXG4gIHRoaXMucG9zICs9IDFcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5QYXJzZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24oKSB7XG4gIHZhciB1ID0gdGhpcy5yZWFkVUludDgoKVxuICBpZiAodSAmIDB4ODApXG4gICAgcmV0dXJuIHUgLSAweDEwMFxuICBlbHNlXG4gICAgcmV0dXJuIHVcbn1cblxuUGFyc2VyLnByb3RvdHlwZS5yZWFkVUludDE2ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBiMCA9IHRoaXMucmVhZFVJbnQ4KCksXG4gICAgICBiMSA9IHRoaXMucmVhZFVJbnQ4KClcblxuICAgIHJldHVybiAoYjAgPDwgOCkgKyBiMVxufVxuXG5QYXJzZXIucHJvdG90eXBlLnJlYWRJbnQxNiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdSA9IHRoaXMucmVhZFVJbnQxNigpXG4gIGlmICh1ICYgMHg4MDAwKVxuICAgIHJldHVybiB1IC0gMHgxMDAwMFxuICBlbHNlXG4gICAgcmV0dXJuIHVcbn1cblxuUGFyc2VyLnByb3RvdHlwZS5yZWFkVUludDI0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBiMCA9IHRoaXMucmVhZFVJbnQ4KCksXG4gICAgICBiMSA9IHRoaXMucmVhZFVJbnQ4KCksXG4gICAgICBiMiA9IHRoaXMucmVhZFVJbnQ4KClcblxuICAgIHJldHVybiAoYjAgPDwgMTYpICsgKGIxIDw8IDgpICsgYjJcbn1cblxuUGFyc2VyLnByb3RvdHlwZS5yZWFkSW50MjQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHUgPSB0aGlzLnJlYWRVSW50MjQoKVxuICBpZiAodSAmIDB4ODAwMDAwKVxuICAgIHJldHVybiB1IC0gMHgxMDAwMDAwXG4gIGVsc2VcbiAgICByZXR1cm4gdVxufVxuXG5QYXJzZXIucHJvdG90eXBlLnJlYWRVSW50MzIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGIwID0gdGhpcy5yZWFkVUludDgoKSxcbiAgICAgIGIxID0gdGhpcy5yZWFkVUludDgoKSxcbiAgICAgIGIyID0gdGhpcy5yZWFkVUludDgoKSxcbiAgICAgIGIzID0gdGhpcy5yZWFkVUludDgoKVxuXG4gICAgcmV0dXJuIChiMCA8PCAyNCkgKyAoYjEgPDwgMTYpICsgKGIyIDw8IDgpICsgYjNcbn1cblxuUGFyc2VyLnByb3RvdHlwZS5yZWFkQnl0ZXMgPSBmdW5jdGlvbihsZW4pIHtcbiAgdmFyIGJ5dGVzID0gdGhpcy5idWZmZXIuc2xpY2UodGhpcy5wb3MsIHRoaXMucG9zICsgbGVuKVxuICB0aGlzLnBvcyArPSBsZW5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cblBhcnNlci5wcm90b3R5cGUucmVhZFN0cmluZyA9IGZ1bmN0aW9uKGxlbikge1xuICB2YXIgYnl0ZXMgPSB0aGlzLnJlYWRCeXRlcyhsZW4pXG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGJ5dGVzKVxufVxuXG5QYXJzZXIucHJvdG90eXBlLnJlYWRWYXJJbnQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3VsdCA9IDBcbiAgd2hpbGUgKCF0aGlzLmVvZigpKSB7XG4gICAgdmFyIGIgPSB0aGlzLnJlYWRVSW50OCgpXG4gICAgaWYgKGIgJiAweDgwKSB7XG4gICAgICByZXN1bHQgKz0gKGIgJiAweDdmKVxuICAgICAgcmVzdWx0IDw8PSA3XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGIgaXMgbGFzdCBieXRlXG4gICAgICByZXR1cm4gcmVzdWx0ICsgYlxuICAgIH1cbiAgfVxuICAvLyBwcmVtYXR1cmUgZW9mXG4gIHJldHVybiByZXN1bHRcbn1cblxuUGFyc2VyLnByb3RvdHlwZS5yZWFkQ2h1bmsgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGlkID0gdGhpcy5yZWFkU3RyaW5nKDQpXG4gIHZhciBsZW5ndGggPSB0aGlzLnJlYWRVSW50MzIoKVxuICB2YXIgZGF0YSA9IHRoaXMucmVhZEJ5dGVzKGxlbmd0aClcbiAgcmV0dXJuIHtcbiAgICBpZDogaWQsXG4gICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgZGF0YTogZGF0YVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2VNaWRpXG4iLCIvLyBkYXRhIHNob3VsZCBiZSB0aGUgc2FtZSB0eXBlIG9mIGZvcm1hdCByZXR1cm5lZCBieSBwYXJzZU1pZGlcbi8vIGZvciBtYXhpbXVtIGNvbXBhdGliaWxpbHR5LCByZXR1cm5zIGFuIGFycmF5IG9mIGJ5dGUgdmFsdWVzLCBzdWl0YWJsZSBmb3IgY29udmVyc2lvbiB0byBCdWZmZXIsIFVpbnQ4QXJyYXksIGV0Yy5cblxuLy8gb3B0czpcbi8vIC0gcnVubmluZyAgICAgICAgICAgICAgcmV1c2UgcHJldmlvdXMgZXZlbnRUeXBlQnl0ZSB3aGVuIHBvc3NpYmxlLCB0byBjb21wcmVzcyBmaWxlXG4vLyAtIHVzZUJ5dGU5Rm9yTm90ZU9mZiAgIHVzZSAweDA5IGZvciBub3RlT2ZmIHdoZW4gdmVsb2NpdHkgaXMgemVyb1xuXG5mdW5jdGlvbiB3cml0ZU1pZGkoZGF0YSwgb3B0cykge1xuICBpZiAodHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKVxuICAgIHRocm93ICdJbnZhbGlkIE1JREkgZGF0YSdcblxuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBoZWFkZXIgPSBkYXRhLmhlYWRlciB8fCB7fVxuICB2YXIgdHJhY2tzID0gZGF0YS50cmFja3MgfHwgW11cbiAgdmFyIGksIGxlbiA9IHRyYWNrcy5sZW5ndGhcblxuICB2YXIgdyA9IG5ldyBXcml0ZXIoKVxuICB3cml0ZUhlYWRlcih3LCBoZWFkZXIsIGxlbilcblxuICBmb3IgKGk9MDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgd3JpdGVUcmFjayh3LCB0cmFja3NbaV0sIG9wdHMpXG4gIH1cblxuICByZXR1cm4gdy5idWZmZXJcbn1cblxuZnVuY3Rpb24gd3JpdGVIZWFkZXIodywgaGVhZGVyLCBudW1UcmFja3MpIHtcbiAgdmFyIGZvcm1hdCA9IGhlYWRlci5mb3JtYXQgPT0gbnVsbCA/IDEgOiBoZWFkZXIuZm9ybWF0XG5cbiAgdmFyIHRpbWVEaXZpc2lvbiA9IDEyOFxuICBpZiAoaGVhZGVyLnRpbWVEaXZpc2lvbikge1xuICAgIHRpbWVEaXZpc2lvbiA9IGhlYWRlci50aW1lRGl2aXNpb25cbiAgfSBlbHNlIGlmIChoZWFkZXIudGlja3NQZXJGcmFtZSAmJiBoZWFkZXIuZnJhbWVzUGVyU2Vjb25kKSB7XG4gICAgdGltZURpdmlzaW9uID0gKC0oaGVhZGVyLmZyYW1lc1BlclNlY29uZCAmIDB4RkYpIDw8IDgpIHwgKHRpY2tzUGVyRnJhbWUgJiAweEZGKVxuICB9IGVsc2UgaWYgKGhlYWRlci50aWNrc1BlckJlYXQpIHtcbiAgICB0aW1lRGl2aXNpb24gPSBoZWFkZXIudGlja3NQZXJCZWF0ICYgMHg3RkZGXG4gIH1cblxuICB2YXIgaCA9IG5ldyBXcml0ZXIoKVxuICBoLndyaXRlVUludDE2KGZvcm1hdClcbiAgaC53cml0ZVVJbnQxNihudW1UcmFja3MpXG4gIGgud3JpdGVVSW50MTYodGltZURpdmlzaW9uKVxuXG4gIHcud3JpdGVDaHVuaygnTVRoZCcsIGguYnVmZmVyKVxufVxuXG5mdW5jdGlvbiB3cml0ZVRyYWNrKHcsIHRyYWNrLCBvcHRzKSB7XG4gIHZhciB0ID0gbmV3IFdyaXRlcigpXG4gIHZhciBpLCBsZW4gPSB0cmFjay5sZW5ndGhcbiAgdmFyIGV2ZW50VHlwZUJ5dGUgPSBudWxsXG4gIGZvciAoaT0wOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBSZXVzZSBsYXN0IGV2ZW50VHlwZUJ5dGUgd2hlbiBvcHRzLnJ1bm5pbmcgaXMgc2V0LCBvciBldmVudC5ydW5uaW5nIGlzIGV4cGxpY2l0bHkgc2V0IG9uIGl0LlxuICAgIC8vIHBhcnNlTWlkaSB3aWxsIHNldCBldmVudC5ydW5uaW5nIGZvciBlYWNoIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBnZXQgYW4gZXhhY3QgY29weSBieSBkZWZhdWx0LlxuICAgIC8vIEV4cGxpY2l0bHkgc2V0IG9wdHMucnVubmluZyB0byBmYWxzZSwgdG8gb3ZlcnJpZGUgZXZlbnQucnVubmluZyBhbmQgbmV2ZXIgcmV1c2UgbGFzdCBldmVudFR5cGVCeXRlLlxuICAgIGlmIChvcHRzLnJ1bm5pbmcgPT09IGZhbHNlIHx8ICFvcHRzLnJ1bm5pbmcgJiYgIXRyYWNrW2ldLnJ1bm5pbmcpIGV2ZW50VHlwZUJ5dGUgPSBudWxsXG5cbiAgICBldmVudFR5cGVCeXRlID0gd3JpdGVFdmVudCh0LCB0cmFja1tpXSwgZXZlbnRUeXBlQnl0ZSwgb3B0cy51c2VCeXRlOUZvck5vdGVPZmYpXG4gIH1cbiAgdy53cml0ZUNodW5rKCdNVHJrJywgdC5idWZmZXIpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRXZlbnQodywgZXZlbnQsIGxhc3RFdmVudFR5cGVCeXRlLCB1c2VCeXRlOUZvck5vdGVPZmYpIHtcbiAgdmFyIHR5cGUgPSBldmVudC50eXBlXG4gIHZhciBkZWx0YVRpbWUgPSBldmVudC5kZWx0YVRpbWVcbiAgdmFyIHRleHQgPSBldmVudC50ZXh0IHx8ICcnXG4gIHZhciBkYXRhID0gZXZlbnQuZGF0YSB8fCBbXVxuICB2YXIgZXZlbnRUeXBlQnl0ZSA9IG51bGxcbiAgdy53cml0ZVZhckludChkZWx0YVRpbWUpXG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgLy8gbWV0YSBldmVudHNcbiAgICBjYXNlICdzZXF1ZW5jZU51bWJlcic6XG4gICAgICB3LndyaXRlVUludDgoMHhGRilcbiAgICAgIHcud3JpdGVVSW50OCgweDAwKVxuICAgICAgdy53cml0ZVZhckludCgyKVxuICAgICAgdy53cml0ZVVJbnQxNihldmVudC5udW1iZXIpXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3RleHQnOlxuICAgICAgdy53cml0ZVVJbnQ4KDB4RkYpXG4gICAgICB3LndyaXRlVUludDgoMHgwMSlcbiAgICAgIHcud3JpdGVWYXJJbnQodGV4dC5sZW5ndGgpXG4gICAgICB3LndyaXRlU3RyaW5nKHRleHQpXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2NvcHlyaWdodE5vdGljZSc6XG4gICAgICB3LndyaXRlVUludDgoMHhGRilcbiAgICAgIHcud3JpdGVVSW50OCgweDAyKVxuICAgICAgdy53cml0ZVZhckludCh0ZXh0Lmxlbmd0aClcbiAgICAgIHcud3JpdGVTdHJpbmcodGV4dClcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndHJhY2tOYW1lJzpcbiAgICAgIHcud3JpdGVVSW50OCgweEZGKVxuICAgICAgdy53cml0ZVVJbnQ4KDB4MDMpXG4gICAgICB3LndyaXRlVmFySW50KHRleHQubGVuZ3RoKVxuICAgICAgdy53cml0ZVN0cmluZyh0ZXh0KVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdpbnN0cnVtZW50TmFtZSc6XG4gICAgICB3LndyaXRlVUludDgoMHhGRilcbiAgICAgIHcud3JpdGVVSW50OCgweDA0KVxuICAgICAgdy53cml0ZVZhckludCh0ZXh0Lmxlbmd0aClcbiAgICAgIHcud3JpdGVTdHJpbmcodGV4dClcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnbHlyaWNzJzpcbiAgICAgIHcud3JpdGVVSW50OCgweEZGKVxuICAgICAgdy53cml0ZVVJbnQ4KDB4MDUpXG4gICAgICB3LndyaXRlVmFySW50KHRleHQubGVuZ3RoKVxuICAgICAgdy53cml0ZVN0cmluZyh0ZXh0KVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdtYXJrZXInOlxuICAgICAgdy53cml0ZVVJbnQ4KDB4RkYpXG4gICAgICB3LndyaXRlVUludDgoMHgwNilcbiAgICAgIHcud3JpdGVWYXJJbnQodGV4dC5sZW5ndGgpXG4gICAgICB3LndyaXRlU3RyaW5nKHRleHQpXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2N1ZVBvaW50JzpcbiAgICAgIHcud3JpdGVVSW50OCgweEZGKVxuICAgICAgdy53cml0ZVVJbnQ4KDB4MDcpXG4gICAgICB3LndyaXRlVmFySW50KHRleHQubGVuZ3RoKVxuICAgICAgdy53cml0ZVN0cmluZyh0ZXh0KVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdjaGFubmVsUHJlZml4JzpcbiAgICAgIHcud3JpdGVVSW50OCgweEZGKVxuICAgICAgdy53cml0ZVVJbnQ4KDB4MjApXG4gICAgICB3LndyaXRlVmFySW50KDEpXG4gICAgICB3LndyaXRlVUludDgoZXZlbnQuY2hhbm5lbClcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAncG9ydFByZWZpeCc6XG4gICAgICB3LndyaXRlVUludDgoMHhGRilcbiAgICAgIHcud3JpdGVVSW50OCgweDIxKVxuICAgICAgdy53cml0ZVZhckludCgxKVxuICAgICAgdy53cml0ZVVJbnQ4KGV2ZW50LnBvcnQpXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2VuZE9mVHJhY2snOlxuICAgICAgdy53cml0ZVVJbnQ4KDB4RkYpXG4gICAgICB3LndyaXRlVUludDgoMHgyRilcbiAgICAgIHcud3JpdGVWYXJJbnQoMClcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2V0VGVtcG8nOlxuICAgICAgdy53cml0ZVVJbnQ4KDB4RkYpXG4gICAgICB3LndyaXRlVUludDgoMHg1MSlcbiAgICAgIHcud3JpdGVWYXJJbnQoMylcbiAgICAgIHcud3JpdGVVSW50MjQoZXZlbnQubWljcm9zZWNvbmRzUGVyQmVhdClcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc21wdGVPZmZzZXQnOlxuICAgICAgdy53cml0ZVVJbnQ4KDB4RkYpXG4gICAgICB3LndyaXRlVUludDgoMHg1NClcbiAgICAgIHcud3JpdGVWYXJJbnQoNSlcbiAgICAgIHZhciBGUkFNRV9SQVRFUyA9IHsgMjQ6IDB4MDAsIDI1OiAweDIwLCAyOTogMHg0MCwgMzA6IDB4NjAgfVxuICAgICAgdmFyIGhvdXJCeXRlID0gKGV2ZW50LmhvdXIgJiAweDFGKSB8IEZSQU1FX1JBVEVTW2V2ZW50LmZyYW1lUmF0ZV1cbiAgICAgIHcud3JpdGVVSW50OChob3VyQnl0ZSlcbiAgICAgIHcud3JpdGVVSW50OChldmVudC5taW4pXG4gICAgICB3LndyaXRlVUludDgoZXZlbnQuc2VjKVxuICAgICAgdy53cml0ZVVJbnQ4KGV2ZW50LmZyYW1lKVxuICAgICAgdy53cml0ZVVJbnQ4KGV2ZW50LnN1YkZyYW1lKVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd0aW1lU2lnbmF0dXJlJzpcbiAgICAgIHcud3JpdGVVSW50OCgweEZGKVxuICAgICAgdy53cml0ZVVJbnQ4KDB4NTgpXG4gICAgICB3LndyaXRlVmFySW50KDQpXG4gICAgICB3LndyaXRlVUludDgoZXZlbnQubnVtZXJhdG9yKVxuICAgICAgdmFyIGRlbm9taW5hdG9yID0gTWF0aC5mbG9vcigoTWF0aC5sb2coZXZlbnQuZGVub21pbmF0b3IpIC8gTWF0aC5MTjIpKSAmIDB4RkZcbiAgICAgIHcud3JpdGVVSW50OChkZW5vbWluYXRvcilcbiAgICAgIHcud3JpdGVVSW50OChldmVudC5tZXRyb25vbWUpXG4gICAgICB3LndyaXRlVUludDgoZXZlbnQudGhpcnR5c2Vjb25kcyB8fCA4KVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdrZXlTaWduYXR1cmUnOlxuICAgICAgdy53cml0ZVVJbnQ4KDB4RkYpXG4gICAgICB3LndyaXRlVUludDgoMHg1OSlcbiAgICAgIHcud3JpdGVWYXJJbnQoMilcbiAgICAgIHcud3JpdGVJbnQ4KGV2ZW50LmtleSlcbiAgICAgIHcud3JpdGVVSW50OChldmVudC5zY2FsZSlcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VxdWVuY2VyU3BlY2lmaWMnOlxuICAgICAgdy53cml0ZVVJbnQ4KDB4RkYpXG4gICAgICB3LndyaXRlVUludDgoMHg3RilcbiAgICAgIHcud3JpdGVWYXJJbnQoZGF0YS5sZW5ndGgpXG4gICAgICB3LndyaXRlQnl0ZXMoZGF0YSlcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndW5rbm93bk1ldGEnOlxuICAgICAgaWYgKGV2ZW50Lm1ldGF0eXBlQnl0ZSAhPSBudWxsKSB7XG4gICAgICAgIHcud3JpdGVVSW50OCgweEZGKVxuICAgICAgICB3LndyaXRlVUludDgoZXZlbnQubWV0YXR5cGVCeXRlKVxuICAgICAgICB3LndyaXRlVmFySW50KGRhdGEubGVuZ3RoKVxuICAgICAgICB3LndyaXRlQnl0ZXMoZGF0YSlcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gc3lzdGVtLWV4Y2x1c2l2ZVxuICAgIGNhc2UgJ3N5c0V4JzpcbiAgICAgIHcud3JpdGVVSW50OCgweEYwKVxuICAgICAgdy53cml0ZVZhckludChkYXRhLmxlbmd0aClcbiAgICAgIHcud3JpdGVCeXRlcyhkYXRhKVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdlbmRTeXNFeCc6XG4gICAgICB3LndyaXRlVUludDgoMHhGNylcbiAgICAgIHcud3JpdGVWYXJJbnQoZGF0YS5sZW5ndGgpXG4gICAgICB3LndyaXRlQnl0ZXMoZGF0YSlcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gY2hhbm5lbCBldmVudHNcbiAgICBjYXNlICdub3RlT2ZmJzpcbiAgICAgIC8vIFVzZSAweDkwIHdoZW4gb3B0cy51c2VCeXRlOUZvck5vdGVPZmYgaXMgc2V0IGFuZCB2ZWxvY2l0eSBpcyB6ZXJvLCBvciB3aGVuIGV2ZW50LmJ5dGU5IGlzIGV4cGxpY2l0bHkgc2V0IG9uIGl0LlxuICAgICAgLy8gcGFyc2VNaWRpIHdpbGwgc2V0IGV2ZW50LmJ5dGU5IGZvciBlYWNoIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBnZXQgYW4gZXhhY3QgY29weSBieSBkZWZhdWx0LlxuICAgICAgLy8gRXhwbGljaXRseSBzZXQgb3B0cy51c2VCeXRlOUZvck5vdGVPZmYgdG8gZmFsc2UsIHRvIG92ZXJyaWRlIGV2ZW50LmJ5dGU5IGFuZCBhbHdheXMgdXNlIDB4ODAgZm9yIG5vdGVPZmYgZXZlbnRzLlxuICAgICAgdmFyIG5vdGVCeXRlID0gKCh1c2VCeXRlOUZvck5vdGVPZmYgIT09IGZhbHNlICYmIGV2ZW50LmJ5dGU5KSB8fCAodXNlQnl0ZTlGb3JOb3RlT2ZmICYmIGV2ZW50LnZlbG9jaXR5ID09IDApKSA/IDB4OTAgOiAweDgwXG5cbiAgICAgIGV2ZW50VHlwZUJ5dGUgPSBub3RlQnl0ZSB8IGV2ZW50LmNoYW5uZWxcbiAgICAgIGlmIChldmVudFR5cGVCeXRlICE9PSBsYXN0RXZlbnRUeXBlQnl0ZSkgdy53cml0ZVVJbnQ4KGV2ZW50VHlwZUJ5dGUpXG4gICAgICB3LndyaXRlVUludDgoZXZlbnQubm90ZU51bWJlcilcbiAgICAgIHcud3JpdGVVSW50OChldmVudC52ZWxvY2l0eSlcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnbm90ZU9uJzpcbiAgICAgIGV2ZW50VHlwZUJ5dGUgPSAweDkwIHwgZXZlbnQuY2hhbm5lbFxuICAgICAgaWYgKGV2ZW50VHlwZUJ5dGUgIT09IGxhc3RFdmVudFR5cGVCeXRlKSB3LndyaXRlVUludDgoZXZlbnRUeXBlQnl0ZSlcbiAgICAgIHcud3JpdGVVSW50OChldmVudC5ub3RlTnVtYmVyKVxuICAgICAgdy53cml0ZVVJbnQ4KGV2ZW50LnZlbG9jaXR5KVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdub3RlQWZ0ZXJ0b3VjaCc6XG4gICAgICBldmVudFR5cGVCeXRlID0gMHhBMCB8IGV2ZW50LmNoYW5uZWxcbiAgICAgIGlmIChldmVudFR5cGVCeXRlICE9PSBsYXN0RXZlbnRUeXBlQnl0ZSkgdy53cml0ZVVJbnQ4KGV2ZW50VHlwZUJ5dGUpXG4gICAgICB3LndyaXRlVUludDgoZXZlbnQubm90ZU51bWJlcilcbiAgICAgIHcud3JpdGVVSW50OChldmVudC5hbW91bnQpXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2NvbnRyb2xsZXInOlxuICAgICAgZXZlbnRUeXBlQnl0ZSA9IDB4QjAgfCBldmVudC5jaGFubmVsXG4gICAgICBpZiAoZXZlbnRUeXBlQnl0ZSAhPT0gbGFzdEV2ZW50VHlwZUJ5dGUpIHcud3JpdGVVSW50OChldmVudFR5cGVCeXRlKVxuICAgICAgdy53cml0ZVVJbnQ4KGV2ZW50LmNvbnRyb2xsZXJUeXBlKVxuICAgICAgdy53cml0ZVVJbnQ4KGV2ZW50LnZhbHVlKVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdwcm9ncmFtQ2hhbmdlJzpcbiAgICAgIGV2ZW50VHlwZUJ5dGUgPSAweEMwIHwgZXZlbnQuY2hhbm5lbFxuICAgICAgaWYgKGV2ZW50VHlwZUJ5dGUgIT09IGxhc3RFdmVudFR5cGVCeXRlKSB3LndyaXRlVUludDgoZXZlbnRUeXBlQnl0ZSlcbiAgICAgIHcud3JpdGVVSW50OChldmVudC5wcm9ncmFtTnVtYmVyKVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdjaGFubmVsQWZ0ZXJ0b3VjaCc6XG4gICAgICBldmVudFR5cGVCeXRlID0gMHhEMCB8IGV2ZW50LmNoYW5uZWxcbiAgICAgIGlmIChldmVudFR5cGVCeXRlICE9PSBsYXN0RXZlbnRUeXBlQnl0ZSkgdy53cml0ZVVJbnQ4KGV2ZW50VHlwZUJ5dGUpXG4gICAgICB3LndyaXRlVUludDgoZXZlbnQuYW1vdW50KVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdwaXRjaEJlbmQnOlxuICAgICAgZXZlbnRUeXBlQnl0ZSA9IDB4RTAgfCBldmVudC5jaGFubmVsXG4gICAgICBpZiAoZXZlbnRUeXBlQnl0ZSAhPT0gbGFzdEV2ZW50VHlwZUJ5dGUpIHcud3JpdGVVSW50OChldmVudFR5cGVCeXRlKVxuICAgICAgdmFyIHZhbHVlMTQgPSAweDIwMDAgKyBldmVudC52YWx1ZVxuICAgICAgdmFyIGxzYjE0ID0gKHZhbHVlMTQgJiAweDdGKVxuICAgICAgdmFyIG1zYjE0ID0gKHZhbHVlMTQgPj4gNykgJiAweDdGXG4gICAgICB3LndyaXRlVUludDgobHNiMTQpXG4gICAgICB3LndyaXRlVUludDgobXNiMTQpXG4gICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgJ1VucmVjb2duaXplZCBldmVudCB0eXBlOiAnICsgdHlwZVxuICB9XG4gIHJldHVybiBldmVudFR5cGVCeXRlXG59XG5cblxuZnVuY3Rpb24gV3JpdGVyKCkge1xuICB0aGlzLmJ1ZmZlciA9IFtdXG59XG5cbldyaXRlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uKHYpIHtcbiAgdGhpcy5idWZmZXIucHVzaCh2ICYgMHhGRilcbn1cbldyaXRlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gV3JpdGVyLnByb3RvdHlwZS53cml0ZVVJbnQ4XG5cbldyaXRlci5wcm90b3R5cGUud3JpdGVVSW50MTYgPSBmdW5jdGlvbih2KSB7XG4gIHZhciBiMCA9ICh2ID4+IDgpICYgMHhGRixcbiAgICAgIGIxID0gdiAmIDB4RkZcblxuICB0aGlzLndyaXRlVUludDgoYjApXG4gIHRoaXMud3JpdGVVSW50OChiMSlcbn1cbldyaXRlci5wcm90b3R5cGUud3JpdGVJbnQxNiA9IFdyaXRlci5wcm90b3R5cGUud3JpdGVVSW50MTZcblxuV3JpdGVyLnByb3RvdHlwZS53cml0ZVVJbnQyNCA9IGZ1bmN0aW9uKHYpIHtcbiAgdmFyIGIwID0gKHYgPj4gMTYpICYgMHhGRixcbiAgICAgIGIxID0gKHYgPj4gOCkgJiAweEZGLFxuICAgICAgYjIgPSB2ICYgMHhGRlxuXG4gIHRoaXMud3JpdGVVSW50OChiMClcbiAgdGhpcy53cml0ZVVJbnQ4KGIxKVxuICB0aGlzLndyaXRlVUludDgoYjIpXG59XG5Xcml0ZXIucHJvdG90eXBlLndyaXRlSW50MjQgPSBXcml0ZXIucHJvdG90eXBlLndyaXRlVUludDI0XG5cbldyaXRlci5wcm90b3R5cGUud3JpdGVVSW50MzIgPSBmdW5jdGlvbih2KSB7XG4gIHZhciBiMCA9ICh2ID4+IDI0KSAmIDB4RkYsXG4gICAgICBiMSA9ICh2ID4+IDE2KSAmIDB4RkYsXG4gICAgICBiMiA9ICh2ID4+IDgpICYgMHhGRixcbiAgICAgIGIzID0gdiAmIDB4RkZcblxuICB0aGlzLndyaXRlVUludDgoYjApXG4gIHRoaXMud3JpdGVVSW50OChiMSlcbiAgdGhpcy53cml0ZVVJbnQ4KGIyKVxuICB0aGlzLndyaXRlVUludDgoYjMpXG59XG5Xcml0ZXIucHJvdG90eXBlLndyaXRlSW50MzIgPSBXcml0ZXIucHJvdG90eXBlLndyaXRlVUludDMyXG5cblxuV3JpdGVyLnByb3RvdHlwZS53cml0ZUJ5dGVzID0gZnVuY3Rpb24oYXJyKSB7XG4gIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyciwgMCkpXG59XG5cbldyaXRlci5wcm90b3R5cGUud3JpdGVTdHJpbmcgPSBmdW5jdGlvbihzdHIpIHtcbiAgdmFyIGksIGxlbiA9IHN0ci5sZW5ndGgsIGFyciA9IFtdXG4gIGZvciAoaT0wOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIucHVzaChzdHIuY29kZVBvaW50QXQoaSkpXG4gIH1cbiAgdGhpcy53cml0ZUJ5dGVzKGFycilcbn1cblxuV3JpdGVyLnByb3RvdHlwZS53cml0ZVZhckludCA9IGZ1bmN0aW9uKHYpIHtcbiAgaWYgKHYgPCAwKSB0aHJvdyBcIkNhbm5vdCB3cml0ZSBuZWdhdGl2ZSB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclwiXG5cbiAgaWYgKHYgPD0gMHg3Rikge1xuICAgIHRoaXMud3JpdGVVSW50OCh2KVxuICB9IGVsc2Uge1xuICAgIHZhciBpID0gdlxuICAgIHZhciBieXRlcyA9IFtdXG4gICAgYnl0ZXMucHVzaChpICYgMHg3RilcbiAgICBpID4+PSA3XG4gICAgd2hpbGUgKGkpIHtcbiAgICAgIHZhciBiID0gaSAmIDB4N0YgfCAweDgwXG4gICAgICBieXRlcy5wdXNoKGIpXG4gICAgICBpID4+PSA3XG4gICAgfVxuICAgIHRoaXMud3JpdGVCeXRlcyhieXRlcy5yZXZlcnNlKCkpXG4gIH1cbn1cblxuV3JpdGVyLnByb3RvdHlwZS53cml0ZUNodW5rID0gZnVuY3Rpb24oaWQsIGRhdGEpIHtcbiAgdGhpcy53cml0ZVN0cmluZyhpZClcbiAgdGhpcy53cml0ZVVJbnQzMihkYXRhLmxlbmd0aClcbiAgdGhpcy53cml0ZUJ5dGVzKGRhdGEpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gd3JpdGVNaWRpXG4iLCJpbXBvcnQgeyB3cml0ZU1pZGkgfSBmcm9tIFwibWlkaS1maWxlXCI7XG5pbXBvcnQgeyBDb250cm9sQ2hhbmdlIH0gZnJvbSBcIi4vQ29udHJvbENoYW5nZVwiO1xuaW1wb3J0IHsgS2V5U2lnbmF0dXJlRXZlbnQsIGtleVNpZ25hdHVyZUtleXMsIE1ldGFFdmVudCwgVGVtcG9FdmVudCwgVGltZVNpZ25hdHVyZUV2ZW50IH0gZnJvbSBcIi4vSGVhZGVyXCI7XG5pbXBvcnQgeyBNaWRpIH0gZnJvbSBcIi4vTWlkaVwiO1xuaW1wb3J0IHsgTWlkaUNvbnRyb2xsZXJFdmVudCwgTWlkaURhdGEsIE1pZGlFbmRPZlRyYWNrRXZlbnQsXG5cdE1pZGlJbnN0cnVtZW50RXZlbnQsIE1pZGlLZXlTaWduYXR1cmVFdmVudCwgTWlkaU5vdGVPZmZFdmVudCxcblx0TWlkaU5vdGVPbkV2ZW50LCBNaWRpVGVtcG9FdmVudCwgTWlkaVRleHRFdmVudCwgTWlkaVRpbWVTaWduYXR1cmVFdmVudCwgTWlkaVRyYWNrTmFtZUV2ZW50IH0gZnJvbSBcIi4vbWlkaS1maWxlXCI7XG5pbXBvcnQgeyBOb3RlIH0gZnJvbSBcIi4vTm90ZVwiO1xuaW1wb3J0IHsgVHJhY2sgfSBmcm9tIFwiLi9UcmFja1wiO1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby12YXItcmVxdWlyZXNcbmNvbnN0IGZsYXR0ZW4gPSByZXF1aXJlKFwiYXJyYXktZmxhdHRlblwiKTtcblxuZnVuY3Rpb24gZW5jb2RlTm90ZShub3RlOiBOb3RlLCBjaGFubmVsOiBudW1iZXIpOiBbTWlkaU5vdGVPbkV2ZW50LCBNaWRpTm90ZU9mZkV2ZW50XSB7XG5cdHJldHVybiBbe1xuXHRcdGFic29sdXRlVGltZTogbm90ZS50aWNrcyxcblx0XHRjaGFubmVsLFxuXHRcdGRlbHRhVGltZTogMCxcblx0XHRub3RlTnVtYmVyOiBub3RlLm1pZGksXG5cdFx0dHlwZTogXCJub3RlT25cIixcblx0XHR2ZWxvY2l0eTogTWF0aC5mbG9vcihub3RlLnZlbG9jaXR5ICogMTI3KSxcblx0fSxcblx0e1xuXHRcdGFic29sdXRlVGltZTogbm90ZS50aWNrcyArIG5vdGUuZHVyYXRpb25UaWNrcyxcblx0XHRjaGFubmVsLFxuXHRcdGRlbHRhVGltZTogMCxcblx0XHRub3RlTnVtYmVyOiBub3RlLm1pZGksXG5cdFx0dHlwZTogXCJub3RlT2ZmXCIsXG5cdFx0dmVsb2NpdHk6IE1hdGguZmxvb3Iobm90ZS5ub3RlT2ZmVmVsb2NpdHkgKiAxMjcpLFxuXHR9XTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlTm90ZXModHJhY2s6IFRyYWNrKTogQXJyYXk8TWlkaU5vdGVPbkV2ZW50IHwgTWlkaU5vdGVPZmZFdmVudD4ge1xuXHRyZXR1cm4gZmxhdHRlbih0cmFjay5ub3Rlcy5tYXAobm90ZSA9PiBlbmNvZGVOb3RlKG5vdGUsIHRyYWNrLmNoYW5uZWwpKSk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZUNvbnRyb2xDaGFuZ2UoY2M6IENvbnRyb2xDaGFuZ2UsIGNoYW5uZWw6IG51bWJlcik6IE1pZGlDb250cm9sbGVyRXZlbnQge1xuXHRyZXR1cm4ge1xuXHRcdGFic29sdXRlVGltZTogY2MudGlja3MsXG5cdFx0Y2hhbm5lbCxcblx0XHRjb250cm9sbGVyVHlwZTogY2MubnVtYmVyLFxuXHRcdGRlbHRhVGltZTogMCxcblx0XHR0eXBlOiBcImNvbnRyb2xsZXJcIixcblx0XHR2YWx1ZTogY2MudmFsdWUsXG5cdH07XG59XG5cbmZ1bmN0aW9uIGVuY29kZUNvbnRyb2xDaGFuZ2VzKHRyYWNrOiBUcmFjayk6IE1pZGlDb250cm9sbGVyRXZlbnRbXSB7XG5cdGNvbnN0IGNvbnRyb2xDaGFuZ2VzOiBNaWRpQ29udHJvbGxlckV2ZW50W10gPSBbXTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCAxMjc7IGkrKykge1xuXHRcdGlmICh0cmFjay5jb250cm9sQ2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHRcdFx0dHJhY2suY29udHJvbENoYW5nZXNbaV0uZm9yRWFjaCgoY2M6IENvbnRyb2xDaGFuZ2UpID0+IHtcblx0XHRcdFx0Y29udHJvbENoYW5nZXMucHVzaChlbmNvZGVDb250cm9sQ2hhbmdlKGNjLCB0cmFjay5jaGFubmVsKSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGNvbnRyb2xDaGFuZ2VzO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVJbnN0cnVtZW50KHRyYWNrOiBUcmFjayk6IE1pZGlJbnN0cnVtZW50RXZlbnQge1xuXHRyZXR1cm4ge1xuXHRcdGFic29sdXRlVGltZTogMCxcblx0XHRjaGFubmVsOiB0cmFjay5jaGFubmVsLFxuXHRcdGRlbHRhVGltZTogMCxcblx0XHRwcm9ncmFtTnVtYmVyOiB0cmFjay5pbnN0cnVtZW50Lm51bWJlcixcblx0XHR0eXBlOiBcInByb2dyYW1DaGFuZ2VcIixcblx0fTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlVHJhY2tOYW1lKG5hbWU6IHN0cmluZyk6IE1pZGlUcmFja05hbWVFdmVudCB7XG5cdHJldHVybiB7XG5cdFx0YWJzb2x1dGVUaW1lOiAwLFxuXHRcdGRlbHRhVGltZTogMCxcblx0XHRtZXRhOiB0cnVlLFxuXHRcdHRleHQ6IG5hbWUsXG5cdFx0dHlwZTogXCJ0cmFja05hbWVcIixcblx0fTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlVGVtcG8odGVtcG86IFRlbXBvRXZlbnQpOiBNaWRpVGVtcG9FdmVudCB7XG5cdHJldHVybiB7XG5cdFx0YWJzb2x1dGVUaW1lOiB0ZW1wby50aWNrcyxcblx0XHRkZWx0YVRpbWU6IDAsXG5cdFx0bWV0YTogdHJ1ZSxcblx0XHRtaWNyb3NlY29uZHNQZXJCZWF0OiBNYXRoLmZsb29yKDYwMDAwMDAwIC8gdGVtcG8uYnBtKSxcblx0XHR0eXBlOiBcInNldFRlbXBvXCIsXG5cdH07XG59XG5cbmZ1bmN0aW9uIGVuY29kZVRpbWVTaWduYXR1cmUodGltZVNpZzogVGltZVNpZ25hdHVyZUV2ZW50KTogTWlkaVRpbWVTaWduYXR1cmVFdmVudCB7XG5cdHJldHVybiB7XG5cdFx0YWJzb2x1dGVUaW1lOiB0aW1lU2lnLnRpY2tzLFxuXHRcdGRlbHRhVGltZTogMCxcblx0XHRkZW5vbWluYXRvcjogdGltZVNpZy50aW1lU2lnbmF0dXJlWzFdLFxuXHRcdG1ldGE6IHRydWUsXG5cdFx0bWV0cm9ub21lOiAyNCxcblx0XHRudW1lcmF0b3I6IHRpbWVTaWcudGltZVNpZ25hdHVyZVswXSxcblx0XHR0aGlydHlzZWNvbmRzOiA4LFxuXHRcdHR5cGU6IFwidGltZVNpZ25hdHVyZVwiLFxuXHR9O1xufVxuXG4vLyBmdW5jdGlvbiBlbmNvZGVNZXRhKGV2ZW50OiApXG5cbmZ1bmN0aW9uIGVuY29kZUtleVNpZ25hdHVyZShrZXlTaWc6IEtleVNpZ25hdHVyZUV2ZW50KTogTWlkaUtleVNpZ25hdHVyZUV2ZW50IHtcblx0Y29uc3Qga2V5SW5kZXggPSBrZXlTaWduYXR1cmVLZXlzLmluZGV4T2Yoa2V5U2lnLmtleSk7XG5cdHJldHVybiB7XG5cdFx0YWJzb2x1dGVUaW1lOiBrZXlTaWcudGlja3MsXG5cdFx0ZGVsdGFUaW1lOiAwLFxuXHRcdGtleToga2V5SW5kZXggKyA3LFxuXHRcdG1ldGE6IHRydWUsXG5cdFx0c2NhbGU6IGtleVNpZy5zY2FsZSA9PT0gXCJtYWpvclwiID8gMCA6IDEsXG5cdFx0dHlwZTogXCJrZXlTaWduYXR1cmVcIixcblx0fTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlVGV4dCh0ZXh0RXZlbnQ6IE1ldGFFdmVudCk6IE1pZGlUZXh0RXZlbnQge1xuXHRyZXR1cm4ge1xuXHRcdGFic29sdXRlVGltZTogdGV4dEV2ZW50LnRpY2tzLFxuXHRcdGRlbHRhVGltZTogMCxcblx0XHRtZXRhOiB0cnVlLFxuXHRcdHRleHQ6IHRleHRFdmVudC50ZXh0LFxuXHRcdHR5cGU6IHRleHRFdmVudC50eXBlLFxuXHR9IGFzIE1pZGlUZXh0RXZlbnQ7XG59XG5cbi8qKlxuICogQ29udmVydCB0aGUgbWlkaSBvYmplY3QgdG8gYW4gYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShtaWRpOiBNaWRpKTogVWludDhBcnJheSB7XG5cdGNvbnN0IG1pZGlEYXRhOiBNaWRpRGF0YSA9IHtcblx0XHRoZWFkZXIgOiB7XG5cdFx0XHRmb3JtYXQgOiAxLFxuXHRcdFx0bnVtVHJhY2tzIDogbWlkaS50cmFja3MubGVuZ3RoICsgMSxcblx0XHRcdHRpY2tzUGVyQmVhdCA6IG1pZGkuaGVhZGVyLnBwcSxcblx0XHR9LFxuXHRcdHRyYWNrcyA6IFtcblx0XHRcdFtcblx0XHRcdFx0Ly8gdGhlIG5hbWUgZGF0YVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0YWJzb2x1dGVUaW1lOiAwLFxuXHRcdFx0XHRcdGRlbHRhVGltZTogMCxcblx0XHRcdFx0XHRtZXRhIDogdHJ1ZSxcblx0XHRcdFx0XHR0ZXh0IDogbWlkaS5oZWFkZXIubmFtZSxcblx0XHRcdFx0XHR0eXBlIDogXCJ0cmFja05hbWVcIixcblx0XHRcdFx0fSBhcyBNaWRpVHJhY2tOYW1lRXZlbnQsXG5cdFx0XHRcdC4uLm1pZGkuaGVhZGVyLmtleVNpZ25hdHVyZXMubWFwKGtleVNpZyA9PiBlbmNvZGVLZXlTaWduYXR1cmUoa2V5U2lnKSksXG5cdFx0XHRcdC8vIGFuZCBhbGwgdGhlIG1ldGEgZXZlbnRzIChjbG9uZWQgZm9yIHNhZmV0eSlcblx0XHRcdFx0Li4ubWlkaS5oZWFkZXIubWV0YS5tYXAoZSA9PiBlbmNvZGVUZXh0KGUpKSxcblx0XHRcdFx0Ly8gdGhlIGZpcnN0IHRyYWNrIGlzIGFsbCB0aGUgdGVtcG8gZGF0YVxuXHRcdFx0XHQuLi5taWRpLmhlYWRlci50ZW1wb3MubWFwKHRlbXBvID0+IGVuY29kZVRlbXBvKHRlbXBvKSksXG5cdFx0XHRcdC8vIGFuZCB0aGUgdGltZSBzaWduYXR1cmUgZGF0YVxuXHRcdFx0XHQuLi5taWRpLmhlYWRlci50aW1lU2lnbmF0dXJlcy5tYXAodGltZVNpZyA9PiBlbmNvZGVUaW1lU2lnbmF0dXJlKHRpbWVTaWcpKSxcblx0XHRcdF0sXG5cdFx0XHQvLyB0aGUgcmVtYWluaW5nIHRyYWNrc1xuXHRcdFx0Li4ubWlkaS50cmFja3MubWFwKHRyYWNrID0+IHtcblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHQvLyBhZGQgdGhlIG5hbWVcblx0XHRcdFx0XHRlbmNvZGVUcmFja05hbWUodHJhY2submFtZSksXG5cdFx0XHRcdFx0Ly8gdGhlIGluc3RydW1lbnRcblx0XHRcdFx0XHRlbmNvZGVJbnN0cnVtZW50KHRyYWNrKSxcblx0XHRcdFx0XHQvLyBhZGQgdGhlIG5vdGVzXG5cdFx0XHRcdFx0Li4uZW5jb2RlTm90ZXModHJhY2spLFxuXHRcdFx0XHRcdC8vIGFuZCB0aGUgY29udHJvbCBjaGFuZ2VzXG5cdFx0XHRcdFx0Li4uZW5jb2RlQ29udHJvbENoYW5nZXModHJhY2spLFxuXHRcdFx0XHRdO1xuXHRcdFx0fSksXG5cdFx0XSxcblx0fTtcblxuXHQvLyBzb3J0IGFuZCBzZXQgZGVsdGFUaW1lIG9mIGFsbCBvZiB0aGUgdHJhY2tzXG5cdG1pZGlEYXRhLnRyYWNrcyA9IG1pZGlEYXRhLnRyYWNrcy5tYXAodHJhY2sgPT4ge1xuXHRcdHRyYWNrID0gdHJhY2suc29ydCgoYSwgYikgPT4gYS5hYnNvbHV0ZVRpbWUgLSBiLmFic29sdXRlVGltZSk7XG5cdFx0bGV0IGxhc3RUaW1lID0gMDtcblx0XHR0cmFjay5mb3JFYWNoKG5vdGUgPT4ge1xuXHRcdFx0bm90ZS5kZWx0YVRpbWUgPSBub3RlLmFic29sdXRlVGltZSAtIGxhc3RUaW1lO1xuXHRcdFx0bGFzdFRpbWUgPSBub3RlLmFic29sdXRlVGltZTtcblx0XHRcdGRlbGV0ZSBub3RlLmFic29sdXRlVGltZTtcblx0XHR9KTtcblx0XHQvLyBlbmQgb2YgdHJhY2tcblx0XHR0cmFjay5wdXNoKHtcblx0XHRcdGRlbHRhVGltZSA6IDAsXG5cdFx0XHRtZXRhIDogdHJ1ZSxcblx0XHRcdHR5cGUgOiBcImVuZE9mVHJhY2tcIixcblx0XHR9IGFzIE1pZGlFbmRPZlRyYWNrRXZlbnQpO1xuXHRcdHJldHVybiB0cmFjaztcblx0fSk7XG5cblx0Ly8gcmV0dXJuIG1pZGlEYXRhXG5cdHJldHVybiBuZXcgVWludDhBcnJheSh3cml0ZU1pZGkobWlkaURhdGEpKTtcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIEV4cG9zZSBgYXJyYXlGbGF0dGVuYC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmbGF0dGVuXG5tb2R1bGUuZXhwb3J0cy5mcm9tID0gZmxhdHRlbkZyb21cbm1vZHVsZS5leHBvcnRzLmRlcHRoID0gZmxhdHRlbkRlcHRoXG5tb2R1bGUuZXhwb3J0cy5mcm9tRGVwdGggPSBmbGF0dGVuRnJvbURlcHRoXG5cbi8qKlxuICogRmxhdHRlbiBhbiBhcnJheS5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiBmbGF0dGVuIChhcnJheSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdmFsdWUgdG8gYmUgYW4gYXJyYXknKVxuICB9XG5cbiAgcmV0dXJuIGZsYXR0ZW5Gcm9tKGFycmF5KVxufVxuXG4vKipcbiAqIEZsYXR0ZW4gYW4gYXJyYXktbGlrZSBzdHJ1Y3R1cmUuXG4gKlxuICogQHBhcmFtICB7QXJyYXl9IGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbkZyb20gKGFycmF5KSB7XG4gIHJldHVybiBmbGF0dGVuRG93bihhcnJheSwgW10pXG59XG5cbi8qKlxuICogRmxhdHRlbiBhbiBhcnJheS1saWtlIHN0cnVjdHVyZSB3aXRoIGRlcHRoLlxuICpcbiAqIEBwYXJhbSAge0FycmF5fSAgYXJyYXlcbiAqIEBwYXJhbSAge251bWJlcn0gZGVwdGhcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiBmbGF0dGVuRGVwdGggKGFycmF5LCBkZXB0aCkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdmFsdWUgdG8gYmUgYW4gYXJyYXknKVxuICB9XG5cbiAgcmV0dXJuIGZsYXR0ZW5Gcm9tRGVwdGgoYXJyYXksIGRlcHRoKVxufVxuXG4vKipcbiAqIEZsYXR0ZW4gYW4gYXJyYXktbGlrZSBzdHJ1Y3R1cmUgd2l0aCBkZXB0aC5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gIGFycmF5XG4gKiBAcGFyYW0gIHtudW1iZXJ9IGRlcHRoXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbkZyb21EZXB0aCAoYXJyYXksIGRlcHRoKSB7XG4gIGlmICh0eXBlb2YgZGVwdGggIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIGRlcHRoIHRvIGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIHJldHVybiBmbGF0dGVuRG93bkRlcHRoKGFycmF5LCBbXSwgZGVwdGgpXG59XG5cbi8qKlxuICogRmxhdHRlbiBhbiBhcnJheSBpbmRlZmluaXRlbHkuXG4gKlxuICogQHBhcmFtICB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0gIHtBcnJheX0gcmVzdWx0XG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbkRvd24gKGFycmF5LCByZXN1bHQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2ldXG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZsYXR0ZW5Eb3duKHZhbHVlLCByZXN1bHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuLyoqXG4gKiBGbGF0dGVuIGFuIGFycmF5IHdpdGggZGVwdGguXG4gKlxuICogQHBhcmFtICB7QXJyYXl9ICBhcnJheVxuICogQHBhcmFtICB7QXJyYXl9ICByZXN1bHRcbiAqIEBwYXJhbSAge251bWJlcn0gZGVwdGhcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiBmbGF0dGVuRG93bkRlcHRoIChhcnJheSwgcmVzdWx0LCBkZXB0aCkge1xuICBkZXB0aC0tXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2ldXG5cbiAgICBpZiAoZGVwdGggPiAtMSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgZmxhdHRlbkRvd25EZXB0aCh2YWx1ZSwgcmVzdWx0LCBkZXB0aClcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2godmFsdWUpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwiaW1wb3J0IHsgaW5zZXJ0IH0gZnJvbSBcIi4vQmluYXJ5U2VhcmNoXCI7XG5pbXBvcnQgeyBDb250cm9sQ2hhbmdlLCBDb250cm9sQ2hhbmdlSW50ZXJmYWNlIH0gZnJvbSBcIi4vQ29udHJvbENoYW5nZVwiO1xuaW1wb3J0IHsgQ29udHJvbENoYW5nZXNKU09OLCBjcmVhdGVDb250cm9sQ2hhbmdlcyB9IGZyb20gXCIuL0NvbnRyb2xDaGFuZ2VzXCI7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tIFwiLi9IZWFkZXJcIjtcbmltcG9ydCB7IEluc3RydW1lbnQsIEluc3RydW1lbnRKU09OIH0gZnJvbSBcIi4vSW5zdHJ1bWVudFwiO1xuaW1wb3J0IHsgTWlkaUNvbnRyb2xsZXJFdmVudCwgTWlkaU5vdGVPZmZFdmVudCwgTWlkaU5vdGVPbkV2ZW50LCBNaWRpVHJhY2tEYXRhLCBNaWRpVHJhY2tOYW1lRXZlbnQgfSBmcm9tIFwiLi9taWRpLWZpbGVcIjtcbmltcG9ydCB7IE5vdGUsIE5vdGVJbnRlcmZhY2UsIE5vdGVKU09OIH0gZnJvbSBcIi4vTm90ZVwiO1xuXG5jb25zdCBwcml2YXRlSGVhZGVyTWFwID0gbmV3IFdlYWtNYXA8VHJhY2ssIEhlYWRlcj4oKTtcblxuLyoqXG4gKiBBIFRyYWNrIGlzIGEgY29sbGVjdGlvbiBvZiBub3RlcyBhbmQgY29udHJvbENoYW5nZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFRyYWNrIHtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgb2YgdGhlIHRyYWNrXG5cdCAqL1xuXHRuYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG5cdC8qKlxuXHQgKiBUaGUgaW5zdHJ1bWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIHRyYWNrXG5cdCAqL1xuXHRpbnN0cnVtZW50OiBJbnN0cnVtZW50O1xuXG5cdC8qKlxuXHQgKiBUaGUgdHJhY2sncyBub3RlIGV2ZW50c1xuXHQgKi9cblx0bm90ZXM6IE5vdGVbXSA9IFtdO1xuXG5cdC8qKlxuXHQgKiBUaGUgY2hhbm5lbCBudW1iZXIgb2YgdGhlIHRyYWNrLiBBcHBsaWVzIHRoaXMgY2hhbm5lbFxuXHQgKiB0byBhbGwgZXZlbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2hhbm5lbFxuXHQgKi9cblx0Y2hhbm5lbDogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgY29udHJvbCBjaGFuZ2UgZXZlbnRzXG5cdCAqL1xuXHRjb250cm9sQ2hhbmdlcyA9IGNyZWF0ZUNvbnRyb2xDaGFuZ2VzKCk7XG5cblx0Y29uc3RydWN0b3IodHJhY2tEYXRhOiBNaWRpVHJhY2tEYXRhLCBoZWFkZXI6IEhlYWRlcikge1xuXG5cdFx0cHJpdmF0ZUhlYWRlck1hcC5zZXQodGhpcywgaGVhZGVyKTtcblxuXHRcdGlmICh0cmFja0RhdGEpIHtcblx0XHRcdGNvbnN0IG5hbWVFdmVudCA9IHRyYWNrRGF0YS5maW5kKGUgPT4gZS50eXBlID09PSBcInRyYWNrTmFtZVwiKSBhcyBNaWRpVHJhY2tOYW1lRXZlbnQ7XG5cdFx0XHR0aGlzLm5hbWUgPSBuYW1lRXZlbnQgPyBuYW1lRXZlbnQudGV4dCA6IFwiXCI7XG5cdFx0fVxuXG5cdFx0LyoqIEB0eXBlIHtJbnN0cnVtZW50fSAqL1xuXHRcdHRoaXMuaW5zdHJ1bWVudCA9IG5ldyBJbnN0cnVtZW50KHRyYWNrRGF0YSwgdGhpcyk7XG5cblx0XHR0aGlzLmNoYW5uZWwgPSAwO1xuXG5cdFx0aWYgKHRyYWNrRGF0YSkge1xuXHRcdFx0Y29uc3Qgbm90ZU9ucyA9IHRyYWNrRGF0YS5maWx0ZXIoZXZlbnQgPT4gZXZlbnQudHlwZSA9PT0gXCJub3RlT25cIikgYXMgTWlkaU5vdGVPbkV2ZW50W107XG5cdFx0XHRjb25zdCBub3RlT2ZmcyA9IHRyYWNrRGF0YS5maWx0ZXIoZXZlbnQgPT4gZXZlbnQudHlwZSA9PT0gXCJub3RlT2ZmXCIpIGFzIE1pZGlOb3RlT2ZmRXZlbnRbXTtcblx0XHRcdHdoaWxlIChub3RlT25zLmxlbmd0aCkge1xuXHRcdFx0XHRjb25zdCBjdXJyZW50Tm90ZSA9IG5vdGVPbnMuc2hpZnQoKTtcblx0XHRcdFx0Ly8gZmluZCB0aGUgY29ycmVzcG9uZGluZyBub3RlIG9mZlxuXHRcdFx0XHRjb25zdCBvZmZJbmRleCA9IG5vdGVPZmZzLmZpbmRJbmRleChub3RlID0+IG5vdGUubm90ZU51bWJlciA9PT0gY3VycmVudE5vdGUubm90ZU51bWJlcik7XG5cdFx0XHRcdGlmIChvZmZJbmRleCAhPT0gLTEpIHtcblx0XHRcdFx0XHQvLyBvbmNlIGl0J3MgZ290IHRoZSBub3RlIG9mZiwgYWRkIGl0XG5cdFx0XHRcdFx0Y29uc3Qgbm90ZU9mZiA9IG5vdGVPZmZzLnNwbGljZShvZmZJbmRleCwgMSlbMF07XG5cdFx0XHRcdFx0dGhpcy5hZGROb3RlKHtcblx0XHRcdFx0XHRcdGR1cmF0aW9uVGlja3MgOiBub3RlT2ZmLmFic29sdXRlVGltZSAtIGN1cnJlbnROb3RlLmFic29sdXRlVGltZSxcblx0XHRcdFx0XHRcdG1pZGkgOiBjdXJyZW50Tm90ZS5ub3RlTnVtYmVyLFxuXHRcdFx0XHRcdFx0bm90ZU9mZlZlbG9jaXR5IDogbm90ZU9mZi52ZWxvY2l0eSAvIDEyNyxcblx0XHRcdFx0XHRcdHRpY2tzIDogY3VycmVudE5vdGUuYWJzb2x1dGVUaW1lLFxuXHRcdFx0XHRcdFx0dmVsb2NpdHkgOiBjdXJyZW50Tm90ZS52ZWxvY2l0eSAvIDEyNyxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBjb250cm9sQ2hhbmdlcyA9IHRyYWNrRGF0YS5maWx0ZXIoZXZlbnQgPT4gZXZlbnQudHlwZSA9PT0gXCJjb250cm9sbGVyXCIpIGFzIE1pZGlDb250cm9sbGVyRXZlbnRbXTtcblx0XHRcdGNvbnRyb2xDaGFuZ2VzLmZvckVhY2goZXZlbnQgPT4ge1xuXHRcdFx0XHR0aGlzLmFkZENDKHtcblx0XHRcdFx0XHRudW1iZXIgOiBldmVudC5jb250cm9sbGVyVHlwZSxcblx0XHRcdFx0XHR0aWNrcyA6IGV2ZW50LmFic29sdXRlVGltZSxcblx0XHRcdFx0XHR2YWx1ZSA6IGV2ZW50LnZhbHVlIC8gMTI3LFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBjb25zdCBlbmRPZlRyYWNrID0gdHJhY2tEYXRhLmZpbmQoZXZlbnQgPT4gZXZlbnQudHlwZSA9PT0gXCJlbmRPZlRyYWNrXCIpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBZGQgYSBub3RlIHRvIHRoZSBub3RlcyBhcnJheVxuXHQgKiBAcGFyYW0gcHJvcHMgVGhlIG5vdGUgcHJvcGVydGllcyB0byBhZGRcblx0ICovXG5cdGFkZE5vdGUocHJvcHM6IFBhcnRpYWw8Tm90ZUludGVyZmFjZT4gPSB7fSk6IHRoaXMge1xuXHRcdGNvbnN0IGhlYWRlciA9IHByaXZhdGVIZWFkZXJNYXAuZ2V0KHRoaXMpO1xuXHRcdGNvbnN0IG5vdGUgPSBuZXcgTm90ZSh7XG5cdFx0XHRtaWRpIDogMCxcblx0XHRcdHRpY2tzIDogMCxcblx0XHRcdHZlbG9jaXR5IDogMSxcblx0XHR9LCB7XG5cdFx0XHR0aWNrcyA6IDAsXG5cdFx0XHR2ZWxvY2l0eSA6IDAsXG5cdFx0fSwgaGVhZGVyKTtcblx0XHRPYmplY3QuYXNzaWduKG5vdGUsIHByb3BzKTtcblx0XHRpbnNlcnQodGhpcy5ub3Rlcywgbm90ZSwgXCJ0aWNrc1wiKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGQgYSBjb250cm9sIGNoYW5nZSB0byB0aGUgdHJhY2tcblx0ICogQHBhcmFtIHByb3BzXG5cdCAqL1xuXHRhZGRDQyhwcm9wczogUGFydGlhbDxDb250cm9sQ2hhbmdlSW50ZXJmYWNlPik6IHRoaXMge1xuXHRcdGNvbnN0IGhlYWRlciA9IHByaXZhdGVIZWFkZXJNYXAuZ2V0KHRoaXMpO1xuXHRcdGNvbnN0IGNjID0gbmV3IENvbnRyb2xDaGFuZ2Uoe1xuXHRcdFx0Y29udHJvbGxlclR5cGUgOiBwcm9wcy5udW1iZXIsXG5cdFx0fSwgaGVhZGVyKTtcblx0XHRkZWxldGUgcHJvcHMubnVtYmVyO1xuXHRcdE9iamVjdC5hc3NpZ24oY2MsIHByb3BzKTtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5jb250cm9sQ2hhbmdlc1tjYy5udW1iZXJdKSkge1xuXHRcdFx0dGhpcy5jb250cm9sQ2hhbmdlc1tjYy5udW1iZXJdID0gW107XG5cdFx0fVxuXHRcdGluc2VydCh0aGlzLmNvbnRyb2xDaGFuZ2VzW2NjLm51bWJlcl0sIGNjLCBcInRpY2tzXCIpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBlbmQgdGltZSBvZiB0aGUgbGFzdCBldmVudCBpbiB0aGUgdHJhY2tcblx0ICovXG5cdGdldCBkdXJhdGlvbigpOiBudW1iZXIge1xuXHRcdGNvbnN0IGxhc3ROb3RlID0gdGhpcy5ub3Rlc1t0aGlzLm5vdGVzLmxlbmd0aCAtIDFdO1xuXHRcdGlmIChsYXN0Tm90ZSkge1xuXHRcdFx0cmV0dXJuIGxhc3ROb3RlLnRpbWUgKyBsYXN0Tm90ZS5kdXJhdGlvbjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBlbmQgdGltZSBvZiB0aGUgbGFzdCBldmVudCBpbiB0aGUgdHJhY2sgaW4gdGlja3Ncblx0ICovXG5cdGdldCBkdXJhdGlvblRpY2tzKCk6IG51bWJlciB7XG5cdFx0Y29uc3QgbGFzdE5vdGUgPSB0aGlzLm5vdGVzW3RoaXMubm90ZXMubGVuZ3RoIC0gMV07XG5cdFx0aWYgKGxhc3ROb3RlKSB7XG5cdFx0XHRyZXR1cm4gbGFzdE5vdGUudGlja3MgKyBsYXN0Tm90ZS5kdXJhdGlvblRpY2tzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQXNzaWduIHRoZSBqc29uIHZhbHVlcyB0byB0aGlzIHRyYWNrXG5cdCAqL1xuXHRmcm9tSlNPTihqc29uOiBUcmFja0pTT04pOiB2b2lkIHtcblx0XHR0aGlzLm5hbWUgPSBqc29uLm5hbWU7XG5cdFx0dGhpcy5jaGFubmVsID0ganNvbi5jaGFubmVsO1xuXHRcdHRoaXMuaW5zdHJ1bWVudCA9IG5ldyBJbnN0cnVtZW50KHVuZGVmaW5lZCwgdGhpcyk7XG5cdFx0dGhpcy5pbnN0cnVtZW50LmZyb21KU09OKGpzb24uaW5zdHJ1bWVudCk7XG5cdFx0Zm9yIChjb25zdCBudW1iZXIgaW4ganNvbi5jb250cm9sQ2hhbmdlcykge1xuXHRcdFx0aWYgKGpzb24uY29udHJvbENoYW5nZXNbbnVtYmVyXSkge1xuXHRcdFx0XHRqc29uLmNvbnRyb2xDaGFuZ2VzW251bWJlcl0uZm9yRWFjaChjYyA9PiB7XG5cdFx0XHRcdFx0dGhpcy5hZGRDQyh7XG5cdFx0XHRcdFx0XHRudW1iZXIgOiBjYy5udW1iZXIsXG5cdFx0XHRcdFx0XHR0aWNrcyA6IGNjLnRpY2tzLFxuXHRcdFx0XHRcdFx0dmFsdWUgOiBjYy52YWx1ZSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGpzb24ubm90ZXMuZm9yRWFjaChuID0+IHtcblx0XHRcdHRoaXMuYWRkTm90ZSh7XG5cdFx0XHRcdGR1cmF0aW9uVGlja3MgOiBuLmR1cmF0aW9uVGlja3MsXG5cdFx0XHRcdG1pZGkgOiBuLm1pZGksXG5cdFx0XHRcdHRpY2tzIDogbi50aWNrcyxcblx0XHRcdFx0dmVsb2NpdHkgOiBuLnZlbG9jaXR5LFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydCB0aGUgdHJhY2sgaW50byBhIEpTT04gZm9ybWF0XG5cdCAqL1xuXHR0b0pTT04oKTogVHJhY2tKU09OIHtcblxuXHRcdC8vIGNvbnZlcnQgYWxsIHRoZSBDQ3MgdG8gSlNPTlxuXHRcdGNvbnN0IGNvbnRyb2xDaGFuZ2VzID0ge307XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCAxMjc7IGkrKykge1xuXHRcdFx0aWYgKHRoaXMuY29udHJvbENoYW5nZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0Y29udHJvbENoYW5nZXNbaV0gPSB0aGlzLmNvbnRyb2xDaGFuZ2VzW2ldLm1hcChjID0+IGMudG9KU09OKCkpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2hhbm5lbCA6IHRoaXMuY2hhbm5lbCxcblx0XHRcdGNvbnRyb2xDaGFuZ2VzLFxuXHRcdFx0aW5zdHJ1bWVudCA6IHRoaXMuaW5zdHJ1bWVudC50b0pTT04oKSxcblx0XHRcdG5hbWUgOiB0aGlzLm5hbWUsXG5cdFx0XHRub3RlcyA6IHRoaXMubm90ZXMubWFwKG4gPT4gbi50b0pTT04oKSksXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrSlNPTiB7XG5cdG5hbWU6IHN0cmluZztcblx0bm90ZXM6IE5vdGVKU09OW107XG5cdGNoYW5uZWw6IG51bWJlcjtcblx0aW5zdHJ1bWVudDogSW5zdHJ1bWVudEpTT047XG5cdGNvbnRyb2xDaGFuZ2VzOiBDb250cm9sQ2hhbmdlc0pTT047XG59XG4iLCJpbXBvcnQgeyBjb250cm9sQ2hhbmdlSWRzIH0gZnJvbSBcIi4vQ29udHJvbENoYW5nZVwiO1xuaW1wb3J0IHsgQ29udHJvbENoYW5nZSwgQ29udHJvbENoYW5nZUpTT04gfSBmcm9tIFwiLi9Db250cm9sQ2hhbmdlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udHJvbENoYW5nZXMge1xuXHRba2V5OiBzdHJpbmddOiBDb250cm9sQ2hhbmdlW107XG5cdFtrZXk6IG51bWJlcl06IENvbnRyb2xDaGFuZ2VbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb250cm9sQ2hhbmdlc0pTT04ge1xuXHRba2V5OiBzdHJpbmddOiBDb250cm9sQ2hhbmdlSlNPTltdO1xuXHRba2V5OiBudW1iZXJdOiBDb250cm9sQ2hhbmdlSlNPTltdO1xufVxuXG4vKipcbiAqIEF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhbiBhbGlhcyBmb3IgbmFtZWQgY29udHJvbCB2YWx1ZXMgdXNpbmcgUHJveGllc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udHJvbENoYW5nZXMoKTogQ29udHJvbENoYW5nZXMge1xuXHRyZXR1cm4gbmV3IFByb3h5KHt9LCB7XG5cdFx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB0eXBlZGVmXG5cdFx0Z2V0KHRhcmdldCwgaGFuZGxlcikge1xuXHRcdFx0aWYgKHRhcmdldFtoYW5kbGVyXSkge1xuXHRcdFx0XHRyZXR1cm4gdGFyZ2V0W2hhbmRsZXJdO1xuXHRcdFx0fSBlbHNlIGlmIChjb250cm9sQ2hhbmdlSWRzLmhhc093blByb3BlcnR5KGhhbmRsZXIpKSB7XG5cdFx0XHRcdHJldHVybiB0YXJnZXRbY29udHJvbENoYW5nZUlkc1toYW5kbGVyXV07XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHR5cGVkZWZcblx0XHRzZXQodGFyZ2V0LCBoYW5kbGVyLCB2YWx1ZSkge1xuXHRcdFx0aWYgKGNvbnRyb2xDaGFuZ2VJZHMuaGFzT3duUHJvcGVydHkoaGFuZGxlcikpIHtcblx0XHRcdFx0dGFyZ2V0W2NvbnRyb2xDaGFuZ2VJZHNbaGFuZGxlcl1dID0gdmFsdWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0YXJnZXRbaGFuZGxlcl0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cdH0pO1xufVxuIiwiaW1wb3J0IHsgZHJ1bUtpdEJ5UGF0Y2hJRCwgaW5zdHJ1bWVudEJ5UGF0Y2hJRCwgaW5zdHJ1bWVudEZhbWlseUJ5SUQgfSBmcm9tIFwiLi9JbnN0cnVtZW50TWFwc1wiO1xuaW1wb3J0IHsgTWlkaUluc3RydW1lbnRFdmVudCwgTWlkaVRyYWNrRGF0YSB9IGZyb20gXCIuL21pZGktZmlsZVwiO1xuaW1wb3J0IHsgVHJhY2sgfSBmcm9tIFwiLi9UcmFja1wiO1xuXG5jb25zdCBwcml2YXRlVHJhY2tNYXAgPSBuZXcgV2Vha01hcDxJbnN0cnVtZW50LCBUcmFjaz4oKTtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG1pZGkgaW5zdHJ1bWVudCBvZiBhIHRyYWNrXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnN0cnVtZW50IHtcblxuXHQvKipcblx0ICogVGhlIGluc3RydW1lbnQgbnVtYmVyXG5cdCAqL1xuXHRudW1iZXI6IG51bWJlciA9IDA7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFt0cmFja0RhdGFdXG5cdCAqIEBwYXJhbSB7VHJhY2t9IHRyYWNrXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcih0cmFja0RhdGE6IE1pZGlUcmFja0RhdGEsIHRyYWNrKSB7XG5cblx0XHRwcml2YXRlVHJhY2tNYXAuc2V0KHRoaXMsIHRyYWNrKTtcblx0XHR0aGlzLm51bWJlciA9IDA7XG5cdFx0aWYgKHRyYWNrRGF0YSkge1xuXHRcdFx0Y29uc3QgcHJvZ3JhbUNoYW5nZSA9IHRyYWNrRGF0YS5maW5kKGUgPT4gZS50eXBlID09PSBcInByb2dyYW1DaGFuZ2VcIikgYXMgTWlkaUluc3RydW1lbnRFdmVudDtcblx0XHRcdGlmIChwcm9ncmFtQ2hhbmdlKSB7XG5cdFx0XHRcdHRoaXMubnVtYmVyID0gcHJvZ3JhbUNoYW5nZS5wcm9ncmFtTnVtYmVyO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgY29tbW9uIG5hbWUgb2YgdGhlIGluc3RydW1lbnRcblx0ICovXG5cdGdldCBuYW1lKCk6IHN0cmluZyB7XG5cdFx0aWYgKHRoaXMucGVyY3Vzc2lvbikge1xuXHRcdFx0cmV0dXJuIGRydW1LaXRCeVBhdGNoSURbdGhpcy5udW1iZXJdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gaW5zdHJ1bWVudEJ5UGF0Y2hJRFt0aGlzLm51bWJlcl07XG5cdFx0fVxuXHR9XG5cblx0c2V0IG5hbWUobjogc3RyaW5nKSB7XG5cdFx0Y29uc3QgcGF0Y2hOdW1iZXIgPSBpbnN0cnVtZW50QnlQYXRjaElELmluZGV4T2Yobik7XG5cdFx0aWYgKHBhdGNoTnVtYmVyICE9PSAtMSkge1xuXHRcdFx0dGhpcy5udW1iZXIgPSBwYXRjaE51bWJlcjtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGluc3RydW1lbnQgZmFtaWx5LCBlLmcuIFwicGlhbm9cIi5cblx0ICovXG5cdGdldCBmYW1pbHkoKTogc3RyaW5nIHtcblx0XHRpZiAodGhpcy5wZXJjdXNzaW9uKSB7XG5cdFx0XHRyZXR1cm4gXCJkcnVtc1wiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gaW5zdHJ1bWVudEZhbWlseUJ5SURbTWF0aC5mbG9vcih0aGlzLm51bWJlciAvIDgpXTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSWYgdGhlIGluc3RydW1lbnQgaXMgYSBwZXJjdXNzaW9uIGluc3RydW1lbnRcblx0ICovXG5cdGdldCBwZXJjdXNzaW9uKCk6IGJvb2xlYW4ge1xuXHRcdGNvbnN0IHRyYWNrID0gcHJpdmF0ZVRyYWNrTWFwLmdldCh0aGlzKTtcblx0XHRyZXR1cm4gWzksIDEwXS5pbmNsdWRlcyh0cmFjay5jaGFubmVsKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0IGl0IHRvIEpTT04gZm9ybVxuXHQgKi9cblx0dG9KU09OKCk6IEluc3RydW1lbnRKU09OIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZmFtaWx5IDogdGhpcy5mYW1pbHksXG5cdFx0XHRuYW1lIDogdGhpcy5uYW1lLFxuXHRcdFx0bnVtYmVyIDogdGhpcy5udW1iZXIsXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0IGZyb20gSlNPTiBmb3JtXG5cdCAqL1xuXHRmcm9tSlNPTihqc29uOiBJbnN0cnVtZW50SlNPTik6IHZvaWQge1xuXHRcdHRoaXMubnVtYmVyID0ganNvbi5udW1iZXI7XG5cdH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnN0cnVtZW50SlNPTiB7XG5cdG51bWJlcjogbnVtYmVyO1xuXHRuYW1lOiBzdHJpbmc7XG5cdGZhbWlseTogc3RyaW5nO1xufVxuIiwiZXhwb3J0IGNvbnN0IGluc3RydW1lbnRCeVBhdGNoSUQgPSBbXG5cdFwiYWNvdXN0aWMgZ3JhbmQgcGlhbm9cIixcblx0XCJicmlnaHQgYWNvdXN0aWMgcGlhbm9cIixcblx0XCJlbGVjdHJpYyBncmFuZCBwaWFub1wiLFxuXHRcImhvbmt5LXRvbmsgcGlhbm9cIixcblx0XCJlbGVjdHJpYyBwaWFubyAxXCIsXG5cdFwiZWxlY3RyaWMgcGlhbm8gMlwiLFxuXHRcImhhcnBzaWNob3JkXCIsXG5cdFwiY2xhdmlcIixcblx0XCJjZWxlc3RhXCIsXG5cdFwiZ2xvY2tlbnNwaWVsXCIsXG5cdFwibXVzaWMgYm94XCIsXG5cdFwidmlicmFwaG9uZVwiLFxuXHRcIm1hcmltYmFcIixcblx0XCJ4eWxvcGhvbmVcIixcblx0XCJ0dWJ1bGFyIGJlbGxzXCIsXG5cdFwiZHVsY2ltZXJcIixcblx0XCJkcmF3YmFyIG9yZ2FuXCIsXG5cdFwicGVyY3Vzc2l2ZSBvcmdhblwiLFxuXHRcInJvY2sgb3JnYW5cIixcblx0XCJjaHVyY2ggb3JnYW5cIixcblx0XCJyZWVkIG9yZ2FuXCIsXG5cdFwiYWNjb3JkaW9uXCIsXG5cdFwiaGFybW9uaWNhXCIsXG5cdFwidGFuZ28gYWNjb3JkaW9uXCIsXG5cdFwiYWNvdXN0aWMgZ3VpdGFyIChueWxvbilcIixcblx0XCJhY291c3RpYyBndWl0YXIgKHN0ZWVsKVwiLFxuXHRcImVsZWN0cmljIGd1aXRhciAoamF6eilcIixcblx0XCJlbGVjdHJpYyBndWl0YXIgKGNsZWFuKVwiLFxuXHRcImVsZWN0cmljIGd1aXRhciAobXV0ZWQpXCIsXG5cdFwib3ZlcmRyaXZlbiBndWl0YXJcIixcblx0XCJkaXN0b3J0aW9uIGd1aXRhclwiLFxuXHRcImd1aXRhciBoYXJtb25pY3NcIixcblx0XCJhY291c3RpYyBiYXNzXCIsXG5cdFwiZWxlY3RyaWMgYmFzcyAoZmluZ2VyKVwiLFxuXHRcImVsZWN0cmljIGJhc3MgKHBpY2spXCIsXG5cdFwiZnJldGxlc3MgYmFzc1wiLFxuXHRcInNsYXAgYmFzcyAxXCIsXG5cdFwic2xhcCBiYXNzIDJcIixcblx0XCJzeW50aCBiYXNzIDFcIixcblx0XCJzeW50aCBiYXNzIDJcIixcblx0XCJ2aW9saW5cIixcblx0XCJ2aW9sYVwiLFxuXHRcImNlbGxvXCIsXG5cdFwiY29udHJhYmFzc1wiLFxuXHRcInRyZW1vbG8gc3RyaW5nc1wiLFxuXHRcInBpenppY2F0byBzdHJpbmdzXCIsXG5cdFwib3JjaGVzdHJhbCBoYXJwXCIsXG5cdFwidGltcGFuaVwiLFxuXHRcInN0cmluZyBlbnNlbWJsZSAxXCIsXG5cdFwic3RyaW5nIGVuc2VtYmxlIDJcIixcblx0XCJzeW50aHN0cmluZ3MgMVwiLFxuXHRcInN5bnRoc3RyaW5ncyAyXCIsXG5cdFwiY2hvaXIgYWFoc1wiLFxuXHRcInZvaWNlIG9vaHNcIixcblx0XCJzeW50aCB2b2ljZVwiLFxuXHRcIm9yY2hlc3RyYSBoaXRcIixcblx0XCJ0cnVtcGV0XCIsXG5cdFwidHJvbWJvbmVcIixcblx0XCJ0dWJhXCIsXG5cdFwibXV0ZWQgdHJ1bXBldFwiLFxuXHRcImZyZW5jaCBob3JuXCIsXG5cdFwiYnJhc3Mgc2VjdGlvblwiLFxuXHRcInN5bnRoYnJhc3MgMVwiLFxuXHRcInN5bnRoYnJhc3MgMlwiLFxuXHRcInNvcHJhbm8gc2F4XCIsXG5cdFwiYWx0byBzYXhcIixcblx0XCJ0ZW5vciBzYXhcIixcblx0XCJiYXJpdG9uZSBzYXhcIixcblx0XCJvYm9lXCIsXG5cdFwiZW5nbGlzaCBob3JuXCIsXG5cdFwiYmFzc29vblwiLFxuXHRcImNsYXJpbmV0XCIsXG5cdFwicGljY29sb1wiLFxuXHRcImZsdXRlXCIsXG5cdFwicmVjb3JkZXJcIixcblx0XCJwYW4gZmx1dGVcIixcblx0XCJibG93biBib3R0bGVcIixcblx0XCJzaGFrdWhhY2hpXCIsXG5cdFwid2hpc3RsZVwiLFxuXHRcIm9jYXJpbmFcIixcblx0XCJsZWFkIDEgKHNxdWFyZSlcIixcblx0XCJsZWFkIDIgKHNhd3Rvb3RoKVwiLFxuXHRcImxlYWQgMyAoY2FsbGlvcGUpXCIsXG5cdFwibGVhZCA0IChjaGlmZilcIixcblx0XCJsZWFkIDUgKGNoYXJhbmcpXCIsXG5cdFwibGVhZCA2ICh2b2ljZSlcIixcblx0XCJsZWFkIDcgKGZpZnRocylcIixcblx0XCJsZWFkIDggKGJhc3MgKyBsZWFkKVwiLFxuXHRcInBhZCAxIChuZXcgYWdlKVwiLFxuXHRcInBhZCAyICh3YXJtKVwiLFxuXHRcInBhZCAzIChwb2x5c3ludGgpXCIsXG5cdFwicGFkIDQgKGNob2lyKVwiLFxuXHRcInBhZCA1IChib3dlZClcIixcblx0XCJwYWQgNiAobWV0YWxsaWMpXCIsXG5cdFwicGFkIDcgKGhhbG8pXCIsXG5cdFwicGFkIDggKHN3ZWVwKVwiLFxuXHRcImZ4IDEgKHJhaW4pXCIsXG5cdFwiZnggMiAoc291bmR0cmFjaylcIixcblx0XCJmeCAzIChjcnlzdGFsKVwiLFxuXHRcImZ4IDQgKGF0bW9zcGhlcmUpXCIsXG5cdFwiZnggNSAoYnJpZ2h0bmVzcylcIixcblx0XCJmeCA2IChnb2JsaW5zKVwiLFxuXHRcImZ4IDcgKGVjaG9lcylcIixcblx0XCJmeCA4IChzY2ktZmkpXCIsXG5cdFwic2l0YXJcIixcblx0XCJiYW5qb1wiLFxuXHRcInNoYW1pc2VuXCIsXG5cdFwia290b1wiLFxuXHRcImthbGltYmFcIixcblx0XCJiYWcgcGlwZVwiLFxuXHRcImZpZGRsZVwiLFxuXHRcInNoYW5haVwiLFxuXHRcInRpbmtsZSBiZWxsXCIsXG5cdFwiYWdvZ29cIixcblx0XCJzdGVlbCBkcnVtc1wiLFxuXHRcIndvb2RibG9ja1wiLFxuXHRcInRhaWtvIGRydW1cIixcblx0XCJtZWxvZGljIHRvbVwiLFxuXHRcInN5bnRoIGRydW1cIixcblx0XCJyZXZlcnNlIGN5bWJhbFwiLFxuXHRcImd1aXRhciBmcmV0IG5vaXNlXCIsXG5cdFwiYnJlYXRoIG5vaXNlXCIsXG5cdFwic2Vhc2hvcmVcIixcblx0XCJiaXJkIHR3ZWV0XCIsXG5cdFwidGVsZXBob25lIHJpbmdcIixcblx0XCJoZWxpY29wdGVyXCIsXG5cdFwiYXBwbGF1c2VcIixcblx0XCJndW5zaG90XCIsXG5dO1xuXG5leHBvcnQgY29uc3QgaW5zdHJ1bWVudEZhbWlseUJ5SUQgPSBbXG5cdFwicGlhbm9cIixcblx0XCJjaHJvbWF0aWMgcGVyY3Vzc2lvblwiLFxuXHRcIm9yZ2FuXCIsXG5cdFwiZ3VpdGFyXCIsXG5cdFwiYmFzc1wiLFxuXHRcInN0cmluZ3NcIixcblx0XCJlbnNlbWJsZVwiLFxuXHRcImJyYXNzXCIsXG5cdFwicmVlZFwiLFxuXHRcInBpcGVcIixcblx0XCJzeW50aCBsZWFkXCIsXG5cdFwic3ludGggcGFkXCIsXG5cdFwic3ludGggZWZmZWN0c1wiLFxuXHRcIndvcmxkXCIsXG5cdFwicGVyY3Vzc2l2ZVwiLFxuXHRcInNvdW5kIGVmZmVjdHNcIixcbl07XG5cbmV4cG9ydCBjb25zdCBkcnVtS2l0QnlQYXRjaElEID0ge1xuXHQwIDogXCJzdGFuZGFyZCBraXRcIixcblx0OCA6IFwicm9vbSBraXRcIixcblx0MTYgOiBcInBvd2VyIGtpdFwiLFxuXHQyNCA6IFwiZWxlY3Ryb25pYyBraXRcIixcblx0MjUgOiBcInRyLTgwOCBraXRcIixcblx0MzIgOiBcImphenoga2l0XCIsXG5cdDQwIDogXCJicnVzaCBraXRcIixcblx0NDggOiBcIm9yY2hlc3RyYSBraXRcIixcblx0NTYgOiBcInNvdW5kIGZ4IGtpdFwiLFxufTtcbiIsImltcG9ydCB7IE1pZGlOb3RlRXZlbnQgfSBmcm9tIFwibWlkaS1maWxlXCI7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tIFwiLi9IZWFkZXJcIjtcblxuLyoqXG4gKiBDb252ZXJ0IGEgbWlkaSBub3RlIGludG8gYSBwaXRjaFxuICovXG5mdW5jdGlvbiBtaWRpVG9QaXRjaChtaWRpOiBudW1iZXIpOiBzdHJpbmcge1xuXHRjb25zdCBvY3RhdmUgPSBNYXRoLmZsb29yKG1pZGkgLyAxMikgLSAxO1xuXHRyZXR1cm4gbWlkaVRvUGl0Y2hDbGFzcyhtaWRpKSArIG9jdGF2ZS50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYSBtaWRpIG5vdGUgdG8gYSBwaXRjaCBjbGFzcyAoanVzdCB0aGUgcGl0Y2ggbm8gb2N0YXZlKVxuICovXG5mdW5jdGlvbiBtaWRpVG9QaXRjaENsYXNzKG1pZGk6IG51bWJlcik6IHN0cmluZyB7XG5cdGNvbnN0IHNjYWxlSW5kZXhUb05vdGUgPSBbXCJDXCIsIFwiQyNcIiwgXCJEXCIsIFwiRCNcIiwgXCJFXCIsIFwiRlwiLCBcIkYjXCIsIFwiR1wiLCBcIkcjXCIsIFwiQVwiLCBcIkEjXCIsIFwiQlwiXTtcblx0Y29uc3Qgbm90ZSA9IG1pZGkgJSAxMjtcblx0cmV0dXJuIHNjYWxlSW5kZXhUb05vdGVbbm90ZV07XG59XG5cbi8qKlxuICogQ29udmVydCBhIHBpdGNoIGNsYXNzIHRvIGEgTUlESSBub3RlXG4gKi9cbmZ1bmN0aW9uIHBpdGNoQ2xhc3NUb01pZGkocGl0Y2g6IHN0cmluZyk6IG51bWJlciB7XG5cdGNvbnN0IHNjYWxlSW5kZXhUb05vdGUgPSBbXCJDXCIsIFwiQyNcIiwgXCJEXCIsIFwiRCNcIiwgXCJFXCIsIFwiRlwiLCBcIkYjXCIsIFwiR1wiLCBcIkcjXCIsIFwiQVwiLCBcIkEjXCIsIFwiQlwiXTtcblx0cmV0dXJuIHNjYWxlSW5kZXhUb05vdGUuaW5kZXhPZihwaXRjaCk7XG59XG5cbi8qKlxuICogQ29udmVydCBhIHBpdGNoIHRvIGEgbWlkaSBudW1iZXJcbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBvbmx5LWFycm93LWZ1bmN0aW9ucyB0eXBlZGVmXG5jb25zdCBwaXRjaFRvTWlkaTogKG5vdGU6IHN0cmluZykgPT4gbnVtYmVyID0gKGZ1bmN0aW9uKCkge1xuXHRjb25zdCByZWdleHAgPSAvXihbYS1nXXsxfSg/OmJ8I3x4fGJiKT8pKC0/WzAtOV0rKS9pO1xuXHRjb25zdCBub3RlVG9TY2FsZUluZGV4ID0ge1xuXHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogb2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG5cdFx0XCJjYmJcIiA6IC0yLCBcImNiXCIgOiAtMSwgXCJjXCIgOiAwLCBcImMjXCIgOiAxLCBcImN4XCIgOiAyLFxuXHRcdFwiZGJiXCIgOiAwLCBcImRiXCIgOiAxLCBcImRcIiA6IDIsIFwiZCNcIiA6IDMsIFwiZHhcIiA6IDQsXG5cdFx0XCJlYmJcIiA6IDIsIFwiZWJcIiA6IDMsIFwiZVwiIDogNCwgXCJlI1wiIDogNSwgXCJleFwiIDogNixcblx0XHRcImZiYlwiIDogMywgXCJmYlwiIDogNCwgXCJmXCIgOiA1LCBcImYjXCIgOiA2LCBcImZ4XCIgOiA3LFxuXHRcdFwiZ2JiXCIgOiA1LCBcImdiXCIgOiA2LCBcImdcIiA6IDcsIFwiZyNcIiA6IDgsIFwiZ3hcIiA6IDksXG5cdFx0XCJhYmJcIiA6IDcsIFwiYWJcIiA6IDgsIFwiYVwiIDogOSwgXCJhI1wiIDogMTAsIFwiYXhcIiA6IDExLFxuXHRcdFwiYmJiXCIgOiA5LCBcImJiXCIgOiAxMCwgXCJiXCIgOiAxMSwgXCJiI1wiIDogMTIsIFwiYnhcIiA6IDEzLFxuXHR9O1xuXHRyZXR1cm4gKG5vdGUpID0+IHtcblx0XHRjb25zdCBzcGxpdCA9IHJlZ2V4cC5leGVjKG5vdGUpO1xuXHRcdGNvbnN0IHBpdGNoID0gc3BsaXRbMV07XG5cdFx0Y29uc3Qgb2N0YXZlID0gc3BsaXRbMl07XG5cdFx0Y29uc3QgaW5kZXggPSBub3RlVG9TY2FsZUluZGV4W3BpdGNoLnRvTG93ZXJDYXNlKCldO1xuXHRcdHJldHVybiBpbmRleCArIChwYXJzZUludChvY3RhdmUsIDEwKSArIDEpICogMTI7XG5cdH07XG59KCkpO1xuXG5jb25zdCBwcml2YXRlSGVhZGVyTWFwID0gbmV3IFdlYWtNYXA8Tm90ZSwgSGVhZGVyPigpO1xuXG4vKipcbiAqIEEgTm90ZSBjb25zaXN0cyBvZiBhIG5vdGVPbiBhbmQgbm90ZU9mZiBldmVudFxuICovXG5leHBvcnQgY2xhc3MgTm90ZSBpbXBsZW1lbnRzIE5vdGVJbnRlcmZhY2Uge1xuXG5cdC8qKlxuXHQgKiBUaGUgbm90ZXMgbWlkaSB2YWx1ZVxuXHQgKi9cblx0bWlkaTogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgbm9ybWFsaXplZCB2ZWxvY2l0eSAoMC0xKVxuXHQgKi9cblx0dmVsb2NpdHk6IG51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIHZlbG9jaXR5IG9mIHRoZSBub3RlIG9mZlxuXHQgKi9cblx0bm90ZU9mZlZlbG9jaXR5OiBudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBzdGFydCB0aW1lIGluIHRpY2tzXG5cdCAqL1xuXHR0aWNrczogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBUaGUgZHVyYXRpb24gaW4gdGlja3Ncblx0ICovXG5cdGR1cmF0aW9uVGlja3M6IG51bWJlcjtcblxuXHRjb25zdHJ1Y3Rvcihub3RlT246IE5vdGVPbkV2ZW50LCBub3RlT2ZmOiBOb3RlT2ZmRXZlbnQsIGhlYWRlcjogSGVhZGVyKSB7XG5cblx0XHRwcml2YXRlSGVhZGVyTWFwLnNldCh0aGlzLCBoZWFkZXIpO1xuXG5cdFx0dGhpcy5taWRpID0gbm90ZU9uLm1pZGk7XG5cblx0XHR0aGlzLnZlbG9jaXR5ID0gbm90ZU9uLnZlbG9jaXR5O1xuXG5cdFx0dGhpcy5ub3RlT2ZmVmVsb2NpdHkgPSBub3RlT2ZmLnZlbG9jaXR5O1xuXG5cdFx0dGhpcy50aWNrcyA9IG5vdGVPbi50aWNrcztcblxuXHRcdHRoaXMuZHVyYXRpb25UaWNrcyA9IG5vdGVPZmYudGlja3MgLSBub3RlT24udGlja3M7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIG5vdGUgbmFtZSBhbmQgb2N0YXZlIGluIHNjaWVudGlmaWMgcGl0Y2ggbm90YXRpb24sIGUuZy4gXCJDNFwiXG5cdCAqL1xuXHRnZXQgbmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBtaWRpVG9QaXRjaCh0aGlzLm1pZGkpO1xuXHR9XG5cblx0c2V0IG5hbWUobjogc3RyaW5nKSB7XG5cdFx0dGhpcy5taWRpID0gcGl0Y2hUb01pZGkobik7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIG5vdGVzIG9jdGF2ZSBudW1iZXJcblx0ICovXG5cdGdldCBvY3RhdmUoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gTWF0aC5mbG9vcih0aGlzLm1pZGkgLyAxMikgLSAxO1xuXHR9XG5cblx0c2V0IG9jdGF2ZShvOiBudW1iZXIpIHtcblx0XHRjb25zdCBkaWZmID0gbyAtIHRoaXMub2N0YXZlO1xuXHRcdHRoaXMubWlkaSArPSBkaWZmICogMTI7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIHBpdGNoIGNsYXNzIG5hbWUuIGUuZy4gXCJBXCJcblx0ICovXG5cdGdldCBwaXRjaCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBtaWRpVG9QaXRjaENsYXNzKHRoaXMubWlkaSk7XG5cdH1cblxuXHRzZXQgcGl0Y2gocDogc3RyaW5nKSB7XG5cdFx0dGhpcy5taWRpID0gMTIgKiAodGhpcy5vY3RhdmUgKyAxKSArIHBpdGNoQ2xhc3NUb01pZGkocCk7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGR1cmF0aW9uIG9mIHRoZSBzZWdtZW50IGluIHNlY29uZHNcblx0ICovXG5cdGdldCBkdXJhdGlvbigpOiBudW1iZXIge1xuXHRcdGNvbnN0IGhlYWRlciA9IHByaXZhdGVIZWFkZXJNYXAuZ2V0KHRoaXMpO1xuXHRcdHJldHVybiBoZWFkZXIudGlja3NUb1NlY29uZHModGhpcy50aWNrcyArIHRoaXMuZHVyYXRpb25UaWNrcykgLSBoZWFkZXIudGlja3NUb1NlY29uZHModGhpcy50aWNrcyk7XG5cdH1cblxuXHRzZXQgZHVyYXRpb24oZDogbnVtYmVyKSB7XG5cdFx0Y29uc3QgaGVhZGVyID0gcHJpdmF0ZUhlYWRlck1hcC5nZXQodGhpcyk7XG5cdFx0Y29uc3Qgbm90ZUVuZFRpY2tzID0gaGVhZGVyLnNlY29uZHNUb1RpY2tzKHRoaXMudGltZSArIGQpO1xuXHRcdHRoaXMuZHVyYXRpb25UaWNrcyA9IG5vdGVFbmRUaWNrcyAtIHRoaXMudGlja3M7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIHRpbWUgb2YgdGhlIGV2ZW50IGluIHNlY29uZHNcblx0ICovXG5cdGdldCB0aW1lKCk6IG51bWJlciB7XG5cdFx0Y29uc3QgaGVhZGVyID0gcHJpdmF0ZUhlYWRlck1hcC5nZXQodGhpcyk7XG5cdFx0cmV0dXJuIGhlYWRlci50aWNrc1RvU2Vjb25kcyh0aGlzLnRpY2tzKTtcblx0fVxuXG5cdHNldCB0aW1lKHQ6IG51bWJlcikge1xuXHRcdGNvbnN0IGhlYWRlciA9IHByaXZhdGVIZWFkZXJNYXAuZ2V0KHRoaXMpO1xuXHRcdHRoaXMudGlja3MgPSBoZWFkZXIuc2Vjb25kc1RvVGlja3ModCk7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIG51bWJlciBvZiBtZWFzdXJlcyAoYW5kIHBhcnRpYWwgbWVhc3VyZXMpIHRvIHRoaXMgYmVhdC5cblx0ICogVGFrZXMgaW50byBhY2NvdW50IHRpbWUgc2lnbmF0dXJlIGNoYW5nZXNcblx0ICogQHJlYWRvbmx5XG5cdCAqL1xuXHRnZXQgYmFycygpOiBudW1iZXIge1xuXHRcdGNvbnN0IGhlYWRlciA9IHByaXZhdGVIZWFkZXJNYXAuZ2V0KHRoaXMpO1xuXHRcdHJldHVybiBoZWFkZXIudGlja3NUb01lYXN1cmVzKHRoaXMudGlja3MpO1xuXHR9XG5cblx0dG9KU09OKCk6IE5vdGVKU09OIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZHVyYXRpb24gOiB0aGlzLmR1cmF0aW9uLFxuXHRcdFx0ZHVyYXRpb25UaWNrcyA6IHRoaXMuZHVyYXRpb25UaWNrcyxcblx0XHRcdG1pZGkgOiB0aGlzLm1pZGksXG5cdFx0XHRuYW1lIDogdGhpcy5uYW1lLFxuXHRcdFx0dGlja3MgOiB0aGlzLnRpY2tzLFxuXHRcdFx0dGltZSA6IHRoaXMudGltZSxcblx0XHRcdHZlbG9jaXR5IDogdGhpcy52ZWxvY2l0eSxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90ZUpTT04ge1xuXHR0aW1lOiBudW1iZXI7XG5cdG1pZGk6IG51bWJlcjtcblx0bmFtZTogc3RyaW5nO1xuXHR2ZWxvY2l0eTogbnVtYmVyO1xuXHRkdXJhdGlvbjogbnVtYmVyO1xuXHR0aWNrczogbnVtYmVyO1xuXHRkdXJhdGlvblRpY2tzOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90ZU9uRXZlbnQge1xuXHR0aWNrczogbnVtYmVyO1xuXHR2ZWxvY2l0eTogbnVtYmVyO1xuXHRtaWRpOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90ZU9mZkV2ZW50IHtcblx0dGlja3M6IG51bWJlcjtcblx0dmVsb2NpdHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RlSW50ZXJmYWNlIHtcblx0dGltZTogbnVtYmVyO1xuXHR0aWNrczogbnVtYmVyO1xuXHRkdXJhdGlvbjogbnVtYmVyO1xuXHRkdXJhdGlvblRpY2tzOiBudW1iZXI7XG5cdG1pZGk6IG51bWJlcjtcblx0cGl0Y2g6IHN0cmluZztcblx0b2N0YXZlOiBudW1iZXI7XG5cdG5hbWU6IHN0cmluZztcblx0bm90ZU9mZlZlbG9jaXR5OiBudW1iZXI7XG5cdHZlbG9jaXR5OiBudW1iZXI7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9